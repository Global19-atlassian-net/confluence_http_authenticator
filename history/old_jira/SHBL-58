



<!DOCTYPE html>















<html>
<head>
    <title>[#SHBL-58] Question about dynamic group logic placement (frequence of execution) - Atlassian Plugins JIRA Studio </title>

    <meta content="general" name="decorator" />
    <link rel="index" href="/secure/IssueNavigator.jspa" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="-1" />
    

    
<meta id="atlassian-token" name="atlassian-token" content="A5G2-B7UC-JLK8-Z7KY|c21ad4240f993160a43561e3990ef530174fc765|lout">


    <link rel="shortcut icon" href="/s/en_US-31q2po/650/149/_/favicon.ico">
    <link rel="icon" type="image/png" href="/s/en_US-31q2po/650/149/_/images/icons/favicon.png">

    
    <script type="text/javascript">var contextPath = '';</script>
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1/_/download/superbatch/css/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1/_/download/superbatch/css/batch.css?conditionalComment=IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:jquery-fancybox/jira.webresources:jquery-fancybox.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:autocomplete/jira.webresources:autocomplete.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:global-static/jira.webresources:global-static.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:global-static/jira.webresources:global-static.css?media=print" media="print">
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/5.7/_/download/batch/com.pyxis.greenhopper.jira:gh-ranking/com.pyxis.greenhopper.jira:gh-ranking.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1.0.6/_/download/batch/com.atlassian.plugin.atlassian-feedback-plugin:feedback/com.atlassian.plugin.atlassian-feedback-plugin:feedback.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/0.15.4/_/download/batch/com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:resources/com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:resources.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/4.4-studio-rc3/_/download/batch/com.atlassian.jira.jira-admin-quicknav-plugin:admin-quicksearch/com.atlassian.jira.jira-admin-quicknav-plugin:admin-quicksearch.css" media="all">
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1/_/download/superbatch/js/batch.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:jquery-fancybox/jira.webresources:jquery-fancybox.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:calendar/jira.webresources:calendar.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:viewissue/jira.webresources:viewissue.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:autocomplete/jira.webresources:autocomplete.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:jira-fields/jira.webresources:jira-fields.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/5.7/_/download/batch/com.pyxis.greenhopper.jira:gh-ranking/com.pyxis.greenhopper.jira:gh-ranking.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/5.7/_/download/batch/com.pyxis.greenhopper.jira:gh-globalkeyboardshortcuts/com.pyxis.greenhopper.jira:gh-globalkeyboardshortcuts.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1.0.6/_/download/batch/com.atlassian.plugin.atlassian-feedback-plugin:feedback/com.atlassian.plugin.atlassian-feedback-plugin:feedback.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/0.4/_/download/batch/com.atlassian.jira.plugins.jira-github-connector-plugin:resources/com.atlassian.jira.plugins.jira-github-connector-plugin:resources.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/0.15.4/_/download/batch/com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:resources/com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:resources.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/4.4-studio-rc3/_/download/batch/com.atlassian.jira.jira-soy-plugin:soy-deps/com.atlassian.jira.jira-soy-plugin:soy-deps.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/4.4-studio-rc3/_/download/batch/com.atlassian.jira.jira-admin-quicknav-plugin:admin-quicksearch/com.atlassian.jira.jira-admin-quicknav-plugin:admin-quicksearch.js" ></script>

    
        <script type="text/javascript" src="/rest/api/1.0/shortcuts/650/2c704f3b1c272597f28d679bb85da011/shortcuts.js?context=issueaction&amp;context=issuenavigation"></script>
    
    <link rel="search" type="application/opensearchdescription+xml" href="/osd.jsp" title="Atlassian Plugins JIRA Studio"/>
</head>



















<body id="jira" class="nl type-ab stalker sn">










<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/css/menu.css">
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/css/navbar.css">
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/css/dialog.css">
<!--[if IE]>
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/css/dialog-ie.css">
<![endif]-->
<!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/css/navbar-ie.css">
<![endif]-->
<!--[if IE 9]>
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/css/navbar-ie9.css">
<![endif]-->
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/css/userstatus.css">
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_admin_styles/css/studioadmin.css">
<link rel="stylesheet" type="text/css" href="/plugins/servlet/studio/dynamiccss/studio-colors-css.css">
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.theme.jira:studio_jira_resources/css/studio-jira-theme-override.css">

<div id="header" style="display:none">
</div>
<div class="studio-header" id="studio-header">

	<meta id="application-base-url" name="application-base-url" content="https://studio.plugins.atlassian.com"/>
<meta id="studio-context-path" name="studio-context-path" content=""/>
<meta id="jira-base-url" name="jira-base-url" content="https://studio.plugins.atlassian.com"/>
<meta id="confluence-base-url" name="confluence-base-url" content="https://studio.plugins.atlassian.com/wiki"/>

<div class="header-first-level">
    <div class="first-level-overlay">
        <div id="studio-logo">
            <a href="https://studio.plugins.atlassian.com/secure/Dashboard.jspa" class="logolink"><img src="https://studio.plugins.atlassian.com/download/resources/com.atlassian.studio.static:studio_images/images/StudioLogo.png" border="0" alt="Atlassian Plugins JIRA Studio"></a>
        </div>

        <div class="top-level-container">

            <div class="nav-dropdowns">
                <div id="studio-project-menu" class="project-menu">
	<ul class="ajs-menu-bar">
    	<li class="normal ajs-menu-item">
                        			<a class="user trigger ajs-menu-title" href="#"><span><span> Confluence Shibboleth Authenticator </span></span></a>

			<div class="ajs-drop-down hidden">
    			<ul class="first">

					                		                                                                                                                <li><a href="/browse/CNET" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10979&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">.NET Authenticator with Single Sign-O...</span></a></li>
					                        <li><a href="/browse/ATTT" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11825&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">@ Time Tracker</span></a></li>
					                        <li><a href="/browse/CONFABAPPLUGIN" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10982&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">ABAP Code-Formatter</span></a></li>
					                        <li><a href="/browse/ABAP" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11605&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">ABAP Syntax Highlighter</span></a></li>
					                        <li><a href="/browse/APRV" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10360&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Ad hoc Workflows</span></a></li>
					                        <li><a href="/browse/ADHOC" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10931&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Adhoc Builder - Deployment Tool</span></a></li>
					                        <li><a href="/browse/AALOG" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11604&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Admin Activity Logger</span></a></li>
					                        <li><a href="/browse/ATD" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11521&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">After the Deadline</span></a></li>
					                        <li><a href="/browse/BAACL" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11551&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Agent ACL</span></a></li>
					                        <li><a href="/browse/AAS" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10930&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Agile Application Stack</span></a></li>
					                        <li><a href="/browse/SPARTEZASCP" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11123&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Agile Scrum Cards Print</span></a></li>
					                        <li><a href="/browse/CAGL" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10951&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Agile Toolkit Plugin</span></a></li>
					                        <li><a href="/browse/JAVT" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11031&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Agile Velocity Tracking plugin</span></a></li>
					                        <li><a href="/browse/ALFRES" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10933&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Alfresco Crowd Integration module</span></a></li>
					                        <li><a href="/browse/ALFCON" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11320&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Alfresco to Confluence Connector</span></a></li>
					                        <li><a href="/browse/ACCF" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11371&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">All Comments Custom Field Type</span></a></li>
					                        <li><a href="/browse/CAE" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10950&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Archive Extractor Plugin</span></a></li>
					                        <li><a href="/browse/STRM" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10570&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Atlassian Activity Stream Plugin</span></a></li>
					                        <li><a href="/browse/ACLI" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10882&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Atlassian Command Line Interface</span></a></li>
					                        <li><a href="/browse/PLE" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11107&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Atlassian Connector for Eclipse</span></a></li>
										                                            <li id="ds-more"><a href="https://studio.plugins.atlassian.com/secure/BrowseProjects.jspa?selectedCategory=all" class="more-projects"><span>View All Projects</span></a></li>
					
				</ul>
    		</div>
    	</li>
    </ul>
</div>	


                
	    <div id="studio-user-menu-container">
        <a class="login-link" href="/login.jsp?os_destination=%2Fbrowse%2FSHBL-58">Log In</a>
    </div>
    
            </div> <!-- /nav-dropdowns -->

            <div class="navigation-tabs studio-menu">
                
<ul id="studio-tabs">
			<li class="current"><a href="/browse/SHBL">Issues</a></li>
			<li><a href="https://studio.plugins.atlassian.com/wiki/display/SHBL">Wiki</a></li>
			<li><a href="https://studio.plugins.atlassian.com/source/browse/SHBL">Source</a></li>
			<li><a href="https://studio.plugins.atlassian.com/source/cru/?filter=custom&project=CR-SHBL">Reviews</a></li>
			<li><a href="https://studio.plugins.atlassian.com/builds/browse/SHBL">Builds</a></li>
	</ul>

            </div>

        </div> <!-- /top-level-container -->
    </div>  <!-- /first-level-overlay -->
</div> <!-- /header-first-level -->


    <div id="header-bottom">

        <div class="second-level-nav studio-menu">

                            
                
<ul id="main-nav" class="menu-bar standard-menu-bar">
                        <li class="aui-dd-parent lazy  ">
                    <a class="lnk"
                href="/secure/Dashboard.jspa"
                 id="home_link"                 accessKey="h"                 title="View your current Dashboard"                >Dashboards</a>

                    <span class="drop-wrap">
            <a class="drop aui-dd-link"
                                    id="home_link_drop"
                    rel="home_link"
                    accessKey="d"
                    title="Access more options (Alt+d)"
                                href="#"><span>Access more options (Alt+d)</span></a></span>
                </li>
                        <li class="aui-dd-parent lazy  selected  ">
                    <a class="lnk"
                href="/secure/IssueNavigator.jspa"
                 id="find_link"                 accessKey="f"                 title="View your current filter"                >Issues</a>

                    <span class="drop-wrap">
            <a class="drop aui-dd-link"
                                    id="find_link_drop"
                    rel="find_link"
                    accessKey="i"
                    title="Access more options (Alt+i)"
                                href="#"><span>Access more options (Alt+i)</span></a></span>
                </li>
                        <li class="aui-dd-parent nonlazy  ">
                    <a class="lnk"
                href="/secure/GreenHopper.jspa"
                 id="greenhopper_menu"                                 title="Manage your project with GreenHopper"                >Agile</a>

                                                                                                            <span class="drop-wrap">
                            <a class="drop aui-dd-link"
                                                                    id="greenhopper_menu_drop"
                                    accessKey="g"
                                    rel="greenhopper_menu"
                                    title="Access more options (Alt+g)"
                                                                href="#"><span>Access more options</span></a></span>
                            <div class="aui-list hidden">
                                                
                            <ul id="greenhopper_menu_dropdown" class="aui-list-section aui-first   aui-last  ">
                                                                    <li class="aui-list-item"><a
                                         id="planningboard-mlink"                                         class="aui-list-item-link   "
                                                                                                                        href="/secure/VersionBoard.jspa">Planning Board</a></li>
                                                                    <li class="aui-list-item"><a
                                         id="taskboard-mlink"                                         class="aui-list-item-link   "
                                                                                                                        href="/secure/TaskBoard.jspa">Task Board</a></li>
                                                                    <li class="aui-list-item"><a
                                         id="chartboard-mlink"                                         class="aui-list-item-link   "
                                                                                                                        href="/secure/ChartBoard.jspa">Chart Board</a></li>
                                                                    <li class="aui-list-item"><a
                                         id="releasedboard-mlink"                                         class="aui-list-item-link   "
                                                                                                                        href="/secure/ArchiveChartBoard.jspa">Released Board</a></li>
                                                            </ul>
                                                    </div>
                            </li>
    </ul>

                
            
        </div> <!-- /second-level-nav -->

        <div class="quick-action-search">

            
            <a id="keyshortscuthelp" class="item-link hidden" title="Get more information about JIRA's Keyboard Shortcuts"
               href="/secure/ViewKeyboardShortcuts!default.jspa">Keyboard Shortcuts</a>
                            <a id="browse_link" class="hidden" href="/browse/SHBL">Selected Project</a>
            
            <form id="quick-search" class="dont-default-focus userpref-form" method="get" action="https://studio.plugins.atlassian.com/secure/StudioSearch.jspa">
    <fieldset>
        <legend>Quick Search</legend>
		<input type="hidden" name="suggest-tracking" value="search" />
		<input type="hidden" name="quickSearch" value="true" />
        <input id="studio-quick-search-query" type="text" accessKey="q" autocomplete="off" name="query" size="25"/>
        <input id="quick-search-submit" type="submit" value="Search"/>
    </fieldset>
    <fieldset class="hidden parameters">
        <input type="hidden" id="quickSearchPlaceholder" value="Search">
    </fieldset>
</form>

        </div> <!-- /quick-action-search -->

    </div> <!-- /header-second-level -->

</div>










<fieldset class="hidden parameters">
    <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation.">
    <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation.  Please try to <a href='/login.jsp?os_destination=%2Fbrowse%2FSHBL-58'>log in</a> or <a href='/secure/Signup!default.jspa'>sign up</a> for an account.">
    <input type="hidden" title="ajaxUnauthorisedAlert" value="You are not authorised to perform this operation.  Please log in.">
    <input type="hidden" title="baseURL" value="https://studio.plugins.atlassian.com:443">
    <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted.  This may be a temporary glitch or the server may be down.">
    <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation.">
    <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser">
    <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown">

    <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost.">
    <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog.">
    <input type="hidden" title="keyType" value="Type">
    <input type="hidden" title="keyThen" value="then">
    <input type="hidden" title="dblClickToExpand" value="Double click to expand">
    <input type="hidden" title="actions" value="Actions">
    <input type="hidden" title="removeItem" value="Remove">
    <input type="hidden" title="workflow" value="Workflow">
    <input type="hidden" title="labelNew" value="New Label">
    <input type="hidden" title="enterIssueKey" value="Enter issue key">
    <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all">
    <input type="hidden" title="closelink" value="Close">
    <input type="hidden" title="dotOperations" value="Operations">
    <input type="hidden" title="dotLoading" value="Loading...">
    <input type="hidden" title="frotherSuggestions" value="Suggestions">
    <input type="hidden" title="frotherNomatches" value="No Matches">
    <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version.">
    <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component.">
    <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid.">
</fieldset>




<div class="alertHeader">
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-6032469-24");
pageTracker._trackPageview();
} catch(err) {}</script>

<script type="text/javascript" charset="utf-8">
  (function(){
    t = document.createElement('script');t.async=true;t.type ='text/javascript';
    t.src = ('https:' == document.location.protocol ? 'https://secure.' : 'http://api.') + 'tellthemwhen.com/api/v2/notices/9ffb4ac1f71.js';
    var s=document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(t,s);
  })();
</script>

<!-- <div id="TTWNotify" style="display:none"></div> -->

<div style="text-align: center; border: #C00; background-color: #FF6600; line-height: 2em">studio.plugins.atlassian.com will be decommissioned in early 2013. If you are a project maintainer, please email <a href="mailto:developer-relations@atlassian.com">Atlassian Developer Relations</a> if you require assistance to migrate your project off this server.</div>
</div>




<fieldset class="hidden parameters">
    <input type="hidden" id="viewMoreMsg" value="Click to view {0} more">
    <input type="hidden" id="hideMsg" value="Hide" >
    <input type="hidden" id="error-401" value="Cannot perform this operation. You are not logged in." >
    <input type="hidden" id="issueOpTitleUnvote" value="Remove vote for this issue" >
    <input type="hidden" id="issueOpTitleVote" value="Vote for this issue" >
    <input type="hidden" id="issueOpTitleWatch" value="Start watching this issue" >
    <input type="hidden" id="issueOpTitleUnwatch" value="Stop watching this issue" >
    <input type="hidden" id="issueOpUnvote" value="Remove Vote" >
    <input type="hidden" id="issueOpVote" value="Add Vote" >
    <input type="hidden" id="issueOpWatch" value="Watch Issue" >
    <input type="hidden" id="issueOpUnwatch" value="Stop Watching" >
    <input type="hidden" id="i18nVote" value="Vote" >
    <input type="hidden" id="i18nVoted" value="Voted" >
    <input type="hidden" id="i18nWatch" value="Watch" >
    <input type="hidden" id="i18nWatching" value="Watching" >
</fieldset>

<div id="stalker"  class="stalker">
    <div class="item-header">
    
        












<h1 class="item-name avatar" style="background-image:url(/secure/projectavatar?pid=10580&amp;avatarId=10011&amp;size=large)">
        
            <img id="project-avatar" alt="" class="project-avatar-48" height="48" src="/secure/projectavatar?pid=10580&amp;avatarId=10011&amp;size=large" width="48" />
        
        <span>Confluence Shibboleth Authenticator</span>
</h1>


<ul class="breadcrumbs">
    <li><a id="project-name-val" href="/browse/SHBL">Confluence Shibboleth Authenticator</a></li>
    
    <li><a id="key-val" rel="31289" href="/browse/SHBL-58">SHBL-58</a></li>
</ul>

<h2 id="issue_header_summary" class="item-summary"><a href="/browse/SHBL-58">Question about dynamic group logic placement (frequence of execution)</a></h2>

    
    </div>
    




    <div class="command-bar">
        <div class="ops-cont">
            <div class="ops-menus">
                
                
                    <ul id="opsbar-login" class="first ops">
                        <li id="ops-login" class="last">
                            <a id="ops-login-lnk" class="button first last" href="/login.jsp?os_destination=%2Fbrowse%2FSHBL-58">Log In</a>
                        </li>
                    </ul>
                
                
                    
                        
                    
                
                    
                        
                    
                
                
                    
                        <ul class="ops" id="view-drop">
                            <li>
                                <div class="aui-dd-parent">
                                    <a href="#" title="View this issue in another format" class="drop lnk aui-dd-link standard icon-views"><span>Views</span></a>
                                        <div class="aui-list hidden">
                                        <ul class="aui-first aui-last aui-list-section">
                                            
                                                <li class="aui-list-item">
                                                    <a class="aui-list-item-link" rel="nofollow" href="/si/jira.issueviews:issue-xml/SHBL-58/SHBL-58.xml">XML</a>
                                                </li>
                                            
                                                <li class="aui-list-item">
                                                    <a class="aui-list-item-link" rel="nofollow" href="/si/jira.issueviews:issue-word/SHBL-58/SHBL-58.doc">Word</a>
                                                </li>
                                            
                                                <li class="aui-list-item">
                                                    <a class="aui-list-item-link" rel="nofollow" href="/si/jira.issueviews:issue-html/SHBL-58/SHBL-58.html">Printable</a>
                                                </li>
                                            
                                        </ul>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    
                
            </div>
        </div>
    </div>          


    <div class="btm"></div>
</div>
<div id="main-content">
    <div class="active-area">
        <div class="column" id="primary">
            <div class="content">
                
                
                
                

                    <div id="details-module" class="module toggle-wrap">
                        <div class="mod-header">
                            <h3 class="toggle-title">Details</h3>
                        </div>
                        <div class="mod-content">
                            <ul id="issuedetails" class="property-list two-cols">
    <li class="item">
        <div class="wrap">
            <strong class="name">Type:</strong>
            <span id="type-val" class="value">
                                                        <img alt="Support Request" height="16" src="/images/icons/genericissue.gif" title="Support Request - A request for support" width="16" />
             Support Request
            </span>
        </div>
    </li>
    <li class="item item-right">
        <div class="wrap">
            <strong class="name">Status:</strong>
            <span id="status-val" class="value">
                                                        <img alt="Closed" height="16" src="/images/icons/status_closed.gif" title="Closed - The issue is considered finished, the resolution is correct. Issues which are closed can be reopened." width="16" />
             Closed
            </span>
                    </div>
    </li>
            <li class="item">
            <div class="wrap">
                <strong class="name">Priority:</strong>
                <span id="priority-val" class="value">
                                                                <img alt="Major" height="16" src="/images/icons/priority_major.gif" title="Major - Major loss of function." width="16" />
             Major
                </span>
            </div>
        </li>
                                <li class="item item-right">
            <div class="wrap">
                <strong class="name">Resolution:</strong>
                <span id="resolution-val" class="value resolved" >
                                         Answered
                                </span>
            </div>
        </li>
                <li class="item">
            <div class="wrap">
                <strong class="name">Affects Version/s:</strong>
                <span id="versions-val" class="value">
                                            <span class="shorten" id="versions-field">
                                                            <span title="2.1.11 Changes by Gary Weaver: SHBL-57: Support for Confluence 4.1.x">2.1.11</span>                                                    </span>
                                    </span>
            </div>
        </li>
                <li class="item item-right">
            <div class="wrap">
                <strong class="name">Fix Version/s:</strong>
                <span id="fixfor-val" class="value">
                                            None
                                    </span>
            </div>
        </li>
                <li class="item">
            <div class="wrap">
                <strong class="name">Component/s:</strong>
                <span id="components-val" class="value">
                                            None
                                    </span>
            </div>
        </li>
                    <li class="item full-width">
            <div class="wrap" id="wrap-labels">
                <strong class="name">Labels:</strong>
                    <div class="labels-wrap value">
            <span class="labels" id="labels-31289-value">None</span>
                </div>
            </div>
        </li>
        </ul>


                            
                                

<div id="customfieldmodule">
    

    
    
    <ul id="tabCellPane1" class="property-list">
        
        
            
                
                
                    <li id="rowForcustomfield_10061" class="item">
                        <div class="wrap">
                            <strong title="Internal Complexity" class="name">Internal Complexity:</strong>
                            <div id="customfield_10061-val" class="value type-select">
                                 Unknown

                            </div>
                        </div>
                    </li>
                
            
        
            
                
                
                    <li id="rowForcustomfield_10060" class="item">
                        <div class="wrap">
                            <strong title="Internal Value" class="name">Internal Value:</strong>
                            <div id="customfield_10060-val" class="value type-select">
                                 Unknown

                            </div>
                        </div>
                    </li>
                
            
        
            
                
                
                    <li id="rowForcustomfield_10082" class="item">
                        <div class="wrap">
                            <strong title="Rank" class="name">Rank:</strong>
                            <div id="customfield_10082-val" class="value type-greenhopper-ranking">
                                
<div id="RankField_customfield_10082view">	<span id="RankValue_customfield_10082view">19</span>&nbsp;
			<span id="RankPage_customfield_10082view" class="gh-rankpage gh-jira-rankpage"></span>
</div>

                            </div>
                        </div>
                    </li>
                
            
        
    </ul>
    
</div>

                            
                        </div>
                    </div>

                    




<div id="descriptionmodule" class="module toggle-wrap">
    <div class="mod-header">
        <h3 class="toggle-title">Description</h3>
    </div>
    <div id="issue-description" class="mod-content">
        <p>I just finished doing an initial test on remoteUserAuth-2.1.11.jar. While I need to do a more exhaustive set of test it does appear to function as expected at this point.</p>

<p>However, I noticed something. I seems to execute the logic that creates and purges the dynamic groups very frequently. I think this is because it's tied to the calls to getUser() which are triggered by the filters etc...</p>

<p>Every click on every page results in numerous executions of this dynamic group logic.</p>

<p>I don't know if this is an intended behaviour or a side effect of other changes. I'm not opening this as a bug because I don't know if this was done on purpose. Could someone weigh in on this topic.</p>

<p>For our purposes it's more than adequate that the dynamic group logic get executed once at login. I'm concerned that it will become a performance problem if it executes too frequently.</p>


<p>The following log snippet shows the number of times it executes during login for the single default dashboard to load on our site.</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>2012-02-09 13:57:20,164 DEBUG [TP-Processor2] [atlassian.seraph.cookie.DefaultCookieHandler] getCookie Looking for a cookie named : 'confluence-language'
2012-02-09 13:57:20,164 DEBUG [TP-Processor2] [atlassian.seraph.cookie.DefaultCookieHandler] getCookie No cookie was found with name :confluence-language
2012-02-09 13:57:20,165 DEBUG [TP-Processor2] [atlassian.seraph.filter.BaseLoginFilter] doFilter doFilter : ____ Attempting login for : '/dashboard.action'
2012-02-09 13:57:20,166 DEBUG [TP-Processor2] [atlassian.seraph.filter.PasswordBasedLoginFilter] login login : No user name or password was returned. No authentication attempt will be made.  User may still be found via a SecurityFilter later.
2012-02-09 13:57:20,166 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/dashboard.action triggered this AuthN check.
2012-02-09 13:57:20,167 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:20,168 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:20,168 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:20,169 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:20,170 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:20,172 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:20,173 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:20,174 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://login.wisc.edu/idp/profile/SAML2/Redirect/SSO', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:20,174 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:20,175 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:20,176 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:20,176 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:20,177 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:20,178 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:20,178 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:20,179 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:20,180 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:20,180 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:20,181 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:20,182 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:20,182 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:20,183 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:20,184 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:20,184 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:20,185 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:20,186 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:20,189 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:20,189 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:20,190 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:20,191 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:20,191 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:20,192 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:20,192 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:20,193 DEBUG [TP-Processor2] [atlassian.seraph.filter.BaseLoginFilter] doFilter doFilter : Login completed for 'jrhare' - os_authstatus = 'null'
2012-02-09 13:57:20,194 DEBUG [TP-Processor2] [atlassian.seraph.filter.SecurityFilter] doFilter doFilter : Storing the originally requested URL (atlassian.core.seraph.original.url=/dashboard.action)
2012-02-09 13:57:20,194 DEBUG [TP-Processor2] [atlassian.seraph.filter.SecurityFilter] doFilter doFilter : requiredRoles = []
2012-02-09 13:57:20,195 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/dashboard.action triggered this AuthN check.
2012-02-09 13:57:20,196 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:20,196 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:20,197 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:20,198 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:20,198 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:20,201 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:20,202 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:20,203 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://login.wisc.edu/idp/profile/SAML2/Redirect/SSO', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:20,203 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:20,204 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:20,205 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:20,205 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:20,206 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:20,207 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:20,207 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:20,208 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:20,209 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:20,210 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:20,210 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:20,211 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:20,212 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:20,213 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:20,213 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:20,215 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:20,216 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:20,216 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:20,220 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:20,220 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:20,221 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:20,221 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:20,222 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:20,223 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:20,223 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:20,224 DEBUG [TP-Processor2] [atlassian.seraph.filter.SecurityFilter] doFilter doFilter : Setting Auth Context to be 'jrhare'
2012-02-09 13:57:20,225 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/dashboard.action triggered this AuthN check.
2012-02-09 13:57:20,225 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:20,226 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:20,227 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:20,227 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:20,228 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:20,230 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:20,230 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:20,231 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://login.wisc.edu/idp/profile/SAML2/Redirect/SSO', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:20,232 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:20,233 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:20,234 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:20,235 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:20,236 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:20,236 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:20,237 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:20,238 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:20,239 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:20,239 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:20,240 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:20,241 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:20,242 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:20,242 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:20,243 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:20,244 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:20,244 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:20,245 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:20,248 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:20,249 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:20,249 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:20,250 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:20,251 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:20,251 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:20,252 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:20,254 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/dashboard.action triggered this AuthN check.
2012-02-09 13:57:20,255 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:20,255 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:20,256 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:20,257 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:20,257 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:20,260 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:20,260 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:20,261 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://login.wisc.edu/idp/profile/SAML2/Redirect/SSO', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:20,262 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:20,263 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:20,263 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:20,264 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:20,265 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:20,266 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:20,266 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:20,267 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:20,268 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:20,269 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:20,270 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:20,270 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:20,271 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:20,272 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:20,273 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:20,273 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:20,274 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:20,275 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:20,277 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:20,278 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:20,279 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:20,280 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:20,280 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:20,281 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:20,282 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:20,284 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/dashboard.action triggered this AuthN check.
2012-02-09 13:57:20,285 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:20,286 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:20,287 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:20,288 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:20,290 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:20,291 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:20,292 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:20,293 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://login.wisc.edu/idp/profile/SAML2/Redirect/SSO', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:20,294 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:20,295 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:20,296 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:20,297 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:20,298 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:20,300 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:20,301 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:20,302 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:20,303 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:20,304 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:20,305 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:20,306 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:20,307 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:20,309 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:20,310 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:20,311 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:20,312 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:20,314 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:20,315 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:20,316 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:20,317 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:20,318 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:20,319 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:20,320 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:20,322 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:20,326 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/dashboard.action triggered this AuthN check.
2012-02-09 13:57:20,327 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:20,328 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:20,330 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:20,331 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:20,332 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:20,333 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:20,334 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:20,336 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://login.wisc.edu/idp/profile/SAML2/Redirect/SSO', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:20,337 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:20,338 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:20,339 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:20,340 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:20,341 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:20,343 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:20,344 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:20,345 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:20,346 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:20,347 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:20,349 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:20,350 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:20,351 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:20,352 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:20,353 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:20,355 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:20,356 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:20,357 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:20,359 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:20,360 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:20,361 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:20,362 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:20,363 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:20,364 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:20,366 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:20,368 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/dashboard.action triggered this AuthN check.
2012-02-09 13:57:20,369 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:20,370 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:20,371 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:20,373 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:20,374 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:20,375 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:20,377 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:20,378 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://login.wisc.edu/idp/profile/SAML2/Redirect/SSO', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:20,379 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:20,392 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:20,394 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:20,395 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:20,396 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:20,397 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:20,398 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:20,400 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:20,401 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:20,402 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:20,404 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:20,405 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:20,406 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:20,407 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:20,409 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:20,410 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:20,411 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:20,413 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:20,415 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:20,416 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:20,417 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:20,419 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:20,420 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:20,422 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:20,423 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:20,749 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/dashboard.action triggered this AuthN check.
2012-02-09 13:57:20,750 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:20,751 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:20,752 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:20,753 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:20,754 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:20,760 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:20,761 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:20,762 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://login.wisc.edu/idp/profile/SAML2/Redirect/SSO', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:20,763 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:20,764 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:20,764 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:20,765 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:20,766 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:20,767 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:20,768 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:20,769 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:20,770 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:20,771 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:20,771 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:20,772 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:20,773 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:20,774 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:20,775 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:20,776 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:20,777 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:20,778 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:20,788 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:20,789 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:20,790 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:20,791 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:20,792 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:20,792 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:20,793 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:20,874 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/dashboard.action triggered this AuthN check.
2012-02-09 13:57:20,875 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:20,876 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:20,877 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:20,878 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:20,879 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:20,885 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:20,886 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:20,887 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://login.wisc.edu/idp/profile/SAML2/Redirect/SSO', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:20,888 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:20,889 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:20,890 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:20,891 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:20,892 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:20,893 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:20,894 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:20,895 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:20,896 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:20,897 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:20,898 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:20,899 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:20,900 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:20,901 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:20,902 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:20,903 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:20,904 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:20,905 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:20,915 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:20,916 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:20,917 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:20,918 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:20,919 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:20,920 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:20,921 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:21,081 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/dashboard.action triggered this AuthN check.
2012-02-09 13:57:21,083 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:21,084 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:21,085 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:21,086 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:21,087 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:21,093 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:21,094 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:21,095 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://login.wisc.edu/idp/profile/SAML2/Redirect/SSO', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:21,096 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:21,097 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:21,098 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:21,100 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:21,101 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:21,102 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:21,103 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:21,104 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:21,105 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:21,107 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:21,108 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:21,109 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:21,110 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:21,111 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:21,113 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:21,114 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:21,115 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:21,116 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:21,127 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:21,128 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:21,129 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:21,130 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:21,131 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:21,132 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:21,133 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:21,142 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/dashboard.action triggered this AuthN check.
2012-02-09 13:57:21,143 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:21,144 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:21,145 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:21,147 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:21,148 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:21,153 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:21,155 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:21,156 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://login.wisc.edu/idp/profile/SAML2/Redirect/SSO', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:21,157 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:21,158 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:21,159 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:21,161 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:21,162 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:21,163 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:21,164 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:21,165 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:21,166 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:21,168 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:21,169 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:21,170 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:21,171 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:21,172 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:21,173 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:21,175 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:21,176 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:21,177 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:21,188 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:21,189 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:21,190 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:21,191 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:21,192 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:21,194 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:21,195 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:21,203 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/dashboard.action triggered this AuthN check.
2012-02-09 13:57:21,204 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:21,205 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:21,206 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:21,207 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:21,208 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:21,214 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:21,215 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:21,216 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://login.wisc.edu/idp/profile/SAML2/Redirect/SSO', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:21,217 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:21,219 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:21,220 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:21,221 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:21,222 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:21,223 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:21,224 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:21,226 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:21,227 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:21,228 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:21,229 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:21,231 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:21,232 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:21,233 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:21,234 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:21,236 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:21,237 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:21,238 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:21,249 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:21,250 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:21,251 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:21,252 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:21,253 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:21,254 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:21,255 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:21,263 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/dashboard.action triggered this AuthN check.
2012-02-09 13:57:21,264 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:21,265 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:21,266 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:21,267 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:21,268 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:21,274 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:21,275 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:21,277 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://login.wisc.edu/idp/profile/SAML2/Redirect/SSO', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:21,278 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:21,279 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:21,280 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:21,281 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:21,282 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:21,283 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:21,284 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:21,286 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:21,287 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:21,288 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:21,289 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:21,290 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:21,292 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:21,293 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:21,294 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:21,295 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:21,296 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:21,297 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:21,308 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:21,309 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:21,311 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:21,312 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:21,313 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:21,314 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:21,315 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:21,364 DEBUG [TP-Processor2] [atlassian.seraph.cookie.DefaultCookieHandler] getCookie Looking for a cookie named : 'confluence-language'
2012-02-09 13:57:21,364 DEBUG [TP-Processor2] [atlassian.seraph.cookie.DefaultCookieHandler] getCookie No cookie was found with name :confluence-language
2012-02-09 13:57:21,365 DEBUG [TP-Processor2] [atlassian.seraph.filter.BaseLoginFilter] doFilter doFilter : ____ Attempting login for : '/download/thumbnails/5507874/svr1.png'
2012-02-09 13:57:21,366 DEBUG [TP-Processor2] [atlassian.seraph.filter.PasswordBasedLoginFilter] login login : No user name or password was returned. No authentication attempt will be made.  User may still be found via a SecurityFilter later.
2012-02-09 13:57:21,366 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/download/thumbnails/5507874/svr1.png triggered this AuthN check.
2012-02-09 13:57:21,367 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:21,367 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:21,368 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:21,369 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:21,369 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:21,372 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:21,373 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:21,374 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'image/png,image/*;q=0.8,*/*;q=0.5', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://wiki-test.doit.wisc.edu/confluence/dashboard.action', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'If-Modified-Since' = 'Fri, 03 Feb 2012 22:49:50 GMT', 'If-None-Match' = '"1328309390000"', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:21,374 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:21,375 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:21,375 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:21,376 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:21,377 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:21,377 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:21,378 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:21,379 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:21,380 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:21,381 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:21,381 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:21,383 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:21,383 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:21,384 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:21,385 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:21,386 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:21,387 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:21,388 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:21,394 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:21,394 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:21,395 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:21,395 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:21,396 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:21,397 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:21,397 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:21,414 DEBUG [TP-Processor2] [atlassian.seraph.filter.BaseLoginFilter] doFilter doFilter : Login completed for 'jrhare' - os_authstatus = 'null'
2012-02-09 13:57:21,415 DEBUG [TP-Processor2] [atlassian.seraph.filter.SecurityFilter] doFilter doFilter : Storing the originally requested URL (atlassian.core.seraph.original.url=/download/thumbnails/5507874/svr1.png)
2012-02-09 13:57:21,415 DEBUG [TP-Processor2] [atlassian.seraph.filter.SecurityFilter] doFilter doFilter : requiredRoles = []
2012-02-09 13:57:21,416 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/download/thumbnails/5507874/svr1.png triggered this AuthN check.
2012-02-09 13:57:21,417 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:21,417 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:21,418 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:21,419 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:21,420 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:21,423 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:21,423 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:21,424 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'image/png,image/*;q=0.8,*/*;q=0.5', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://wiki-test.doit.wisc.edu/confluence/dashboard.action', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'If-Modified-Since' = 'Fri, 03 Feb 2012 22:49:50 GMT', 'If-None-Match' = '"1328309390000"', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:21,425 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:21,425 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:21,426 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:21,427 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:21,427 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:21,428 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:21,429 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:21,430 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:21,431 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:21,432 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:21,433 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:21,434 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:21,435 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:21,436 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:21,436 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:21,438 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:21,438 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:21,439 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:21,445 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:21,445 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:21,446 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:21,447 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:21,447 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:21,448 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:21,448 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:21,449 DEBUG [TP-Processor2] [atlassian.seraph.filter.SecurityFilter] doFilter doFilter : Setting Auth Context to be 'jrhare'
2012-02-09 13:57:21,450 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/download/thumbnails/5507874/svr1.png triggered this AuthN check.
2012-02-09 13:57:21,450 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:21,451 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:21,452 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:21,452 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:21,453 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:21,455 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:21,456 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:21,457 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'image/png,image/*;q=0.8,*/*;q=0.5', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://wiki-test.doit.wisc.edu/confluence/dashboard.action', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'If-Modified-Since' = 'Fri, 03 Feb 2012 22:49:50 GMT', 'If-None-Match' = '"1328309390000"', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:21,458 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:21,458 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:21,459 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:21,460 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:21,460 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:21,461 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:21,462 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:21,463 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:21,464 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:21,465 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:21,465 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:21,467 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:21,467 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:21,468 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:21,469 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:21,471 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:21,471 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:21,473 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:21,477 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:21,478 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:21,479 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:21,479 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:21,480 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:21,481 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:21,481 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:21,482 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/download/thumbnails/5507874/svr1.png triggered this AuthN check.
2012-02-09 13:57:21,483 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:21,484 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:21,485 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:21,486 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:21,487 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:21,488 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:21,488 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:21,490 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'image/png,image/*;q=0.8,*/*;q=0.5', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'referer' = 'https://wiki-test.doit.wisc.edu/confluence/dashboard.action', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'If-Modified-Since' = 'Fri, 03 Feb 2012 22:49:50 GMT', 'If-None-Match' = '"1328309390000"', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:21,490 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:21,491 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:21,492 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:21,493 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:21,494 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:21,495 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:21,495 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:21,496 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:21,497 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:21,498 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:21,499 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:21,500 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:21,501 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:21,502 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:21,503 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:21,503 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:21,504 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:21,505 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:21,506 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:21,507 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:21,508 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:21,509 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:21,510 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:21,511 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:21,511 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:21,601 DEBUG [TP-Processor2] [atlassian.seraph.cookie.DefaultCookieHandler] getCookie Looking for a cookie named : 'confluence-language'
2012-02-09 13:57:21,602 DEBUG [TP-Processor2] [atlassian.seraph.cookie.DefaultCookieHandler] getCookie No cookie was found with name :confluence-language
2012-02-09 13:57:21,603 DEBUG [TP-Processor2] [atlassian.seraph.filter.BaseLoginFilter] doFilter doFilter : ____ Attempting login for : '/rest/prototype/1/i18n?locale=en_GB&amp;pluginKeys=com.atlassian.confluence.keyboardshortcuts&amp;pluginKeys=com.atlassian.plugins.editor'
2012-02-09 13:57:21,604 DEBUG [TP-Processor2] [atlassian.seraph.filter.PasswordBasedLoginFilter] login login : No user name or password was returned. No authentication attempt will be made.  User may still be found via a SecurityFilter later.
2012-02-09 13:57:21,604 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/rest/prototype/1/i18n triggered this AuthN check.
2012-02-09 13:57:21,605 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:21,606 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:21,607 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:21,607 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:21,608 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:21,610 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:21,611 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:21,611 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'application/json, text/javascript, */*; q=0.01', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'X-Requested-With' = 'XMLHttpRequest', 'referer' = 'https://wiki-test.doit.wisc.edu/confluence/dashboard.action', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:21,612 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:21,613 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:21,613 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:21,614 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:21,614 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:21,615 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:21,616 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:21,616 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:21,617 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:21,618 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:21,618 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:21,619 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:21,620 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:21,620 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:21,621 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:21,621 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:21,622 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:21,623 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:21,625 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:21,626 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:21,626 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:21,627 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:21,628 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:21,628 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:21,629 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:21,629 DEBUG [TP-Processor2] [atlassian.seraph.filter.BaseLoginFilter] doFilter doFilter : Login completed for 'jrhare' - os_authstatus = 'null'
2012-02-09 13:57:21,630 DEBUG [TP-Processor2] [atlassian.seraph.filter.SecurityFilter] doFilter doFilter : Storing the originally requested URL (atlassian.core.seraph.original.url=/rest/prototype/1/i18n?locale=en_GB&amp;pluginKeys=com.atlassian.confluence.keyboardshortcuts&amp;pluginKeys=com.atlassian.plugins.editor)
2012-02-09 13:57:21,631 DEBUG [TP-Processor2] [atlassian.seraph.filter.SecurityFilter] doFilter doFilter : requiredRoles = []
2012-02-09 13:57:21,631 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/rest/prototype/1/i18n triggered this AuthN check.
2012-02-09 13:57:21,632 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:21,632 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:21,633 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:21,633 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:21,634 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:21,636 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:21,637 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:21,637 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'application/json, text/javascript, */*; q=0.01', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'X-Requested-With' = 'XMLHttpRequest', 'referer' = 'https://wiki-test.doit.wisc.edu/confluence/dashboard.action', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:21,638 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:21,638 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:21,639 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:21,640 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:21,640 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:21,641 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:21,642 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:21,642 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:21,643 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:21,644 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:21,644 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:21,645 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:21,645 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:21,646 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:21,647 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:21,647 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:21,648 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:21,649 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:21,652 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:21,652 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:21,653 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:21,653 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:21,654 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:21,655 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:21,655 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
2012-02-09 13:57:21,656 DEBUG [TP-Processor2] [atlassian.seraph.filter.SecurityFilter] doFilter doFilter : Setting Auth Context to be 'jrhare'
2012-02-09 13:57:21,657 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Request made to https://wiki-test.doit.wisc.edu/confluence/rest/prototype/1/i18n triggered this AuthN check.
2012-02-09 13:57:21,657 DEBUG [TP-Processor2] [atlassian.seraph.auth.DefaultAuthenticator] getUserFromSession getUserFromSession : Session found; BUT it has no Principal in it
2012-02-09 13:57:21,658 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getLoggedInUser Got remoteUser 'jrhare@wisc.edu' for header 'REMOTE_USER'
2012-02-09 13:57:21,658 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Original value of full name header 'cn' was 'JOHN R HARE'
2012-02-09 13:57:21,659 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getFullName Got fullName 'JOHN R HARE' for header 'cn'.
2012-02-09 13:57:21,660 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getEmailAddress Got emailAddress 'JOHN.HARE@DOIT.WISC.EDU' for header 'mail'
2012-02-09 13:57:21,662 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user fullName is same as old one: 'JOHN R HARE'
2012-02-09 13:57:21,663 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] updateUser New user emailAddress is same as old one: 'john.hare@doit.wisc.edu'
2012-02-09 13:57:21,663 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader HTTP Headers: 'host' = 'wiki-test.doit.wisc.edu', 'user-agent' = 'Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0', 'accept' = 'application/json, text/javascript, */*; q=0.01', 'Accept-Language' = 'en-us,en;q=0.5', 'Accept-Encoding' = 'gzip, deflate', 'connection' = 'keep-alive', 'X-Requested-With' = 'XMLHttpRequest', 'referer' = 'https://wiki-test.doit.wisc.edu/confluence/dashboard.action', 'cookie' = 'JSESSIONID=1BAE4993E5C17E37A5D0A03281A51748; _saml_idp=aHR0cHM6Ly9sb2dpbi53aXNjLmVkdS9pZHAvc2hpYmJvbGV0aA%3D%3D+; _shibsession_64656661756c7468747470733a2f2f77696b692d746573742e646f69742e776973632e6564752f73686962626f6c657468=_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-ID' = '_c4604d6633c56003b5d0ed9a350561b2', 'Shib-Session-Index' = 'b6c77f0317194b731d8e3a83279c9c278618cc9d8d8d3c3e8809ca258e9453d0', 'Shib-Identity-Provider' = 'https://login.wisc.edu/idp/shibboleth', 'Shib-Authentication-Method' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-Authentication-Instant' = '2012-02-09T19:57:19.915Z', 'Shib-AuthnContext-Class' = 'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport', 'Shib-AuthnContext-Decl' = '', 'Shib-Assertion-Count' = '', 'uid' = '', 'mail' = 'JOHN.HARE@DOIT.WISC.EDU', 'homePhone' = '', 'cn' = 'JOHN R HARE', 'sn' = '', 'l' = '', 'st' = '', 'street' = '', 'postalCode' = '', 'physicalDeliveryOfficeName' = '', 'telephoneNumber' = '', 'givenName' = '', 'initials' = '', 'eduWisconsinSPVI' = 'UW149K621', 'eduWisconsinPrincipalName' = '', 'eduWisconsinHRPersonID' = '', 'eduWisconsinTelephoneNumberExtension' = '', 'eduWisconsinTargetedID' = 'kK+Ykq1IgVn7jE6kJa8NXEiDX2E=', 'eduWisconsinOIMUserID' = '', 'eduWisconsinLibraryPatronID' = '', 'eduWisconsinHRSEmplID' = '', 'eduWisconsinUDDS' = 'A067130', 'eduWisconsinServiceEligibility' = '', 'eduWisconsinHomeAddressLine1' = '', 'eduWisconsinHomeAddressLine2' = '', 'eduWisconsinHomeAddressCity' = '', 'eduWisconsinHomeAddressState' = '', 'eduWisconsinHomeAddressZip' = '', 'eduWisconsinOIMRoles' = '', 'eppn' = 'jrhare@wisc.edu', 'affiliation' = '', 'unscoped-affiliation' = '', 'entitlement' = '', 'assurance' = '', 'persistent-id' = 'https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=;https://login.wisc.edu/idp/shibboleth!https://wiki-test.doit.wisc.edu/shibboleth!MDFHMeiJtIBtX1YCEeIuTg2JeeA=', 'wiscEduPVI' = '', 'wiscEduPhotoID' = '', 'wiscEduPrivacyFlag' = '', 'wiscEduUDDS' = '', 'wiscEduHRPersonID' = '', 'wiscEduISISStudentEmplID' = '', 'wiscEduPortalCSAStudent' = '', 'eduWhitewaterEmployeeNumber' = '', 'Shib-Application-ID' = 'default', 'REMOTE_USER' = 'jrhare@wisc.edu', 'content-length' = '0'
2012-02-09 13:57:21,664 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Processing dynamicroles header=eduWisconsinUDDS, value=A067130
2012-02-09 13:57:21,665 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a'
2012-02-09 13:57:21,665 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a06'
2012-02-09 13:57:21,666 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a0671'
2012-02-09 13:57:21,667 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'udds-a067130'
2012-02-09 13:57:21,667 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getRolesFromHeader Found role mapping from 'A067130' to 'doit-employees'
2012-02-09 13:57:21,668 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role confluence-users
2012-02-09 13:57:21,669 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role confluence-users - already a member
2012-02-09 13:57:21,669 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role doit-employees
2012-02-09 13:57:21,670 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role doit-employees - already a member
2012-02-09 13:57:21,671 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a067130
2012-02-09 13:57:21,671 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a067130 - already a member
2012-02-09 13:57:21,672 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a
2012-02-09 13:57:21,673 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a - already a member
2012-02-09 13:57:21,673 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a06
2012-02-09 13:57:21,674 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a06 - already a member
2012-02-09 13:57:21,675 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Assigning jrhare to role udds-a0671
2012-02-09 13:57:21,675 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] assignUserToRoles Skipping jrhare to role udds-a0671 - already a member
2012-02-09 13:57:21,679 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role confluence-users for user jrhare
2012-02-09 13:57:21,680 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role doit-employees for user jrhare
2012-02-09 13:57:21,680 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a for user jrhare
2012-02-09 13:57:21,681 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a06 for user jrhare
2012-02-09 13:57:21,682 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a0671 for user jrhare
2012-02-09 13:57:21,682 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] purgeUserRoles Keeping role udds-a067130 for user jrhare
2012-02-09 13:57:21,683 DEBUG [TP-Processor2] [confluence.authentication.shibboleth.RemoteUserAuthenticator] getUser Logging in user jrhare
</pre>
</div></div>
    </div>
</div>





                    
                        






                    
                
                
                    <div class='module toggle-wrap' id='activitymodule'><div id='activitymodule_heading' class='mod-header'><h3 class='toggle-title'>Activity</h3></div><div class='mod-content'>    <div class="tabwrap tabs2">
                <ul id="issue-tabs" class="tabs horizontal">
                                    <li><a id="all-tabpanel" href="/browse/SHBL-58?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel#issue-tabs"><strong>All</strong></a></li>
                                                <li id="comment-tabpanel" class="active"><strong>Comments</strong></li>
                                                <li><a id="worklog-tabpanel" href="/browse/SHBL-58?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel#issue-tabs"><strong>Work Log</strong></a></li>
                                                <li><a id="changehistory-tabpanel" href="/browse/SHBL-58?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel#issue-tabs"><strong>History</strong></a></li>
                                                <li><a id="activity-stream-issue-tab" href="/browse/SHBL-58?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab#issue-tabs"><strong>Activity</strong></a></li>
                            </ul>
    </div>
    <div class="issuePanelContainer" id="issue_actions_container">
                        <div id="comment-55042" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-58?focusedCommentId=55042&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-55042" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_55042_verbose" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_55042_verbose subText'><span class='date user-tz' title='09/Feb/12 12:21 PM'><time datetime='2012-02-09T12:21-0800'>09/Feb/12 12:21 PM</time></span></span>  </div>
        <div class="action-body flooded"><p>John,</p>

<p>If you would, please take that question up with Atlassian (answers.atlassian.com and support.atlassian.com or maybe developer relations (you can find the email if you search)) as to why getUser is called so much in a custom authenticator (in-general- don't mention our authenticator because they don't support it) and how they suggest determining whether the request is the first request on that page or not. Or propose how often we should be updating the user and group info if it isn't on every call. We are probably doing a lot in the authenticator that is excessive because we haven't spent the time to try to eliminate calls since the project was first moved to its Atlassian home in 2007-2008.</p>

<p>My first guess would be that we would just do on login rather than in getUser(), but I don't have the facilities to test nor the time at the moment.</p>

<p>Good luck and let me know what you find out,<br/>
Gary</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_55042_concise" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_55042_concise subText'><span class='date user-tz' title='09/Feb/12 12:21 PM'><time datetime='2012-02-09T12:21-0800'>09/Feb/12 12:21 PM</time></span></span>               John,

If you would, please take that question up with Atlassian (answers.atlassian.com and support.atlassian.com or maybe developer relations (you can find the email if you search)) as to why getUser is called so much in a custom authenticator (in-general- don't mention our authenticator because they don't support it) and how they suggest determining whether the request is the first request on that page or not. Or propose how often we should be updating the user and group info if it isn't on every call. We are probably doing a lot in the authenticator that is excessive because we haven't spent the time to try to eliminate calls since the project was first moved to its Atlassian home in 2007-2008.

My first guess would be that we would just do on login rather than in getUser(), but I don't have the facilities to test nor the time at the moment.

Good luck and let me know what you find out,
Gary         </div>
    </div>
</div>
                 </div>
</div></div>
                

            </div>
        </div>

        <div class="column" id="secondary">
            <div class="content">
                
                    <div class='module toggle-wrap' id='peoplemodule'><div id='peoplemodule_heading' class='mod-header'><h3 class='toggle-title'>People</h3></div><div class='mod-content'><ul class="item-details" id="peopledetails">
    <li class="people-details">
                <dl>
            <dt>Assignee:</dt>
            <dd id="assignee-val">
                        <a class="user-hover" rel="gswduke" id="issue_summary_assignee_gswduke" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
            </dd>
        </dl>
                        <dl>
            <dt>Reporter:</dt>
            <dd id="reporter-val">
                        <a class="user-hover" rel="john.hare@doit.wisc.edu" id="issue_summary_reporter_john.hare@doit.wisc.edu" href="/secure/ViewProfile.jspa?name=john.hare%40doit.wisc.edu">John Hare</a>
            </dd>
        </dl>
                    </li>
</ul>
<div id="votes-val">
                <span id="vote-label" title="You cannot vote or change your vote on resolved issues."><span class="icon icon-vote-disabled"></span><span class="action-text">Vote</span></span>
    
                (<span id="vote-data">0</span>)
    </div>
<div id="watchers-val">
            <span id="watch-label" title="You have to be logged in to watch an issue."><span class="icon icon-watch-disabled"></span>Watch</span>
    
        
            (<span id="watcher-data">0</span>)
    </div>
</div></div><div class='module toggle-wrap' id='datesmodule'><div id='datesmodule_heading' class='mod-header'><h3 class='toggle-title'>Dates</h3></div><div class='mod-content'><ul class="item-details">
    <li>
            <dl class="dates">
            <dt>Created:</dt>
            <dd id="create-date" class="date user-tz"  title="09/Feb/12 12:07 PM" >
                        <time datetime="2012-02-09T12:07-0800">09/Feb/12 12:07 PM</time></dd>                     </dd>
        </dl>
            <dl class="dates">
            <dt>Updated:</dt>
            <dd id="updated-date" class="date user-tz"  title="09/Feb/12 12:22 PM" >
                        <time datetime="2012-02-09T12:22-0800">09/Feb/12 12:22 PM</time></dd>                     </dd>
        </dl>
            <dl class="dates">
            <dt>Resolved:</dt>
            <dd id="resolved-date" class="date user-tz"  title="09/Feb/12 12:21 PM" >
                        <time datetime="2012-02-09T12:21-0800">09/Feb/12 12:21 PM</time></dd>                     </dd>
        </dl>
        </li>
</ul>
</div></div>
                

            </div>
        </div>
        
            
                
            
        

    </div>
</div>










<div id="studio-footer" class="footer" style="width:100%; padding:0 0 25px 0;">
    <div id="poweredby">
        <p>
            Powered by <a href="http://www.atlassian.com/hosted/studio">JIRA Studio</a> <span id="studioVersion">107.6 r5978538efb935b5414d28000aa78b98bedfcae46</span> |
            <a href="http://www.atlassian.com/hosted/terms.jsp">Terms of Use</a> |
            <a href="http://studio.atlassian.com/browse/JST">Bug/feature request</a> |
            <a href="https://support.atlassian.com/secure/CreateIssueDetails!init.jspa?summary=Your+summary+here...&amp;issuetype=1&amp;priority=3&amp;description=Please+describe+your+problem+here%3A%0A%0A%0AProblem+reported+from+URL%3A+https%3A%2F%2Fstudio.plugins.atlassian.com%2Fbrowse%2FSHBL-58&amp;customfield_10440=https%3A%2F%2Fstudio.plugins.atlassian.com&amp;pid=10140&amp;">Request Support</a> |
            <a href="http://confluence.atlassian.com/display/JIRASTUDIO" target="help_JIRASTUDIO" rel="nofollow">Help/Documentation</a> |
            <a href="http://blogs.atlassian.com/devtools/studio">JIRA Studio Blog</a> |
            <a href="http://twitter.com/jirastudio">Twitter @JIRAStudio</a>
        </p>
    </div>
</div>

<script type="text/javascript" charset="utf-8" src="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/js/contentnamesearch.js"></script>
<script type="text/javascript" charset="utf-8" src="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/js/split_button.js"></script>
<script type="text/javascript" charset="utf-8" src="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/js/userstatus.js"></script>

            <script type="text/javascript" charset="utf-8" src="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/js/safe-ajax.js"></script>
    
<script type="text/javascript">
    // This is the app specific data that the shared js expects
    studioData = {"jiraUrl" : "https://studio.plugins.atlassian.com"};

            document.cookie = "studio.project.rec.used.cookie=" + escape("SHBL-_-") + "; Max-Age=31536000; path=/;";
    
    // Google analytics
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-6032469-30");
    pageTracker._trackPageview();
    } catch(err) {}
</script>

<form id="jira_request_timing_info" class="dont-default-focus" >
	<fieldset class="parameters hidden">
		<input type="hidden" title="jira.request.start.millis" value="1358699939792" />
		<input type="hidden" title="jira.request.server.time" value="1159" />
		<input type="hidden" title="jira.request.id" value="518x7330433x2" />
		<input type="hidden" title="jira.session.expiry.time" value="-" />
		<input type="hidden" title="jira.session.expiry.in.mins" value="-" />
		<input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="1" />
	</fieldset>
</form>
<!--
	                 REQUEST ID : 518x7330433x2
	          REQUEST TIMESTAMP : [20/Jan/2013:08:38:59 -0800]
	               REQUEST TIME : 1.1590
	                 ASESSIONID : fbs9gi
	        CONCURRENT REQUESTS : 1
-->
</body>
</html>
