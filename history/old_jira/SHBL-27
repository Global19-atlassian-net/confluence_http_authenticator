



<!DOCTYPE html>















<html>
<head>
    <title>[#SHBL-27] update last login code broken - Atlassian Plugins JIRA Studio </title>

    <meta content="general" name="decorator" />
    <link rel="index" href="/secure/IssueNavigator.jspa" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="-1" />
    

    
<meta id="atlassian-token" name="atlassian-token" content="A5G2-B7UC-JLK8-Z7KY|a6796ea54573e01606f1f4a10b85111139c1f669|lout">


    <link rel="shortcut icon" href="/s/en_US-31q2po/650/149/_/favicon.ico">
    <link rel="icon" type="image/png" href="/s/en_US-31q2po/650/149/_/images/icons/favicon.png">

    
    <script type="text/javascript">var contextPath = '';</script>
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1/_/download/superbatch/css/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1/_/download/superbatch/css/batch.css?conditionalComment=IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:jquery-fancybox/jira.webresources:jquery-fancybox.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:autocomplete/jira.webresources:autocomplete.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:global-static/jira.webresources:global-static.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:global-static/jira.webresources:global-static.css?media=print" media="print">
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/5.7/_/download/batch/com.pyxis.greenhopper.jira:gh-ranking/com.pyxis.greenhopper.jira:gh-ranking.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/1.0.6/_/download/batch/com.atlassian.plugin.atlassian-feedback-plugin:feedback/com.atlassian.plugin.atlassian-feedback-plugin:feedback.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/0.15.4/_/download/batch/com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:resources/com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:resources.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_US-31q2po/650/149/4.4-studio-rc3/_/download/batch/com.atlassian.jira.jira-admin-quicknav-plugin:admin-quicksearch/com.atlassian.jira.jira-admin-quicknav-plugin:admin-quicksearch.css" media="all">
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1/_/download/superbatch/js/batch.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:jquery-fancybox/jira.webresources:jquery-fancybox.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:calendar/jira.webresources:calendar.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:viewissue/jira.webresources:viewissue.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:autocomplete/jira.webresources:autocomplete.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:jira-fields/jira.webresources:jira-fields.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/5.7/_/download/batch/com.pyxis.greenhopper.jira:gh-ranking/com.pyxis.greenhopper.jira:gh-ranking.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/5.7/_/download/batch/com.pyxis.greenhopper.jira:gh-globalkeyboardshortcuts/com.pyxis.greenhopper.jira:gh-globalkeyboardshortcuts.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/1.0.6/_/download/batch/com.atlassian.plugin.atlassian-feedback-plugin:feedback/com.atlassian.plugin.atlassian-feedback-plugin:feedback.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/0.4/_/download/batch/com.atlassian.jira.plugins.jira-github-connector-plugin:resources/com.atlassian.jira.plugins.jira-github-connector-plugin:resources.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/0.15.4/_/download/batch/com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:resources/com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:resources.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/4.4-studio-rc3/_/download/batch/com.atlassian.jira.jira-soy-plugin:soy-deps/com.atlassian.jira.jira-soy-plugin:soy-deps.js" ></script>
<script type="text/javascript" src="/s/en_US-31q2po/650/149/4.4-studio-rc3/_/download/batch/com.atlassian.jira.jira-admin-quicknav-plugin:admin-quicksearch/com.atlassian.jira.jira-admin-quicknav-plugin:admin-quicksearch.js" ></script>

    
        <script type="text/javascript" src="/rest/api/1.0/shortcuts/650/2c704f3b1c272597f28d679bb85da011/shortcuts.js?context=issueaction&amp;context=issuenavigation"></script>
    
    <link rel="search" type="application/opensearchdescription+xml" href="/osd.jsp" title="Atlassian Plugins JIRA Studio"/>
</head>



















<body id="jira" class="nl type-ab stalker sn">










<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/css/menu.css">
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/css/navbar.css">
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/css/dialog.css">
<!--[if IE]>
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/css/dialog-ie.css">
<![endif]-->
<!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/css/navbar-ie.css">
<![endif]-->
<!--[if IE 9]>
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/css/navbar-ie9.css">
<![endif]-->
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/css/userstatus.css">
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_admin_styles/css/studioadmin.css">
<link rel="stylesheet" type="text/css" href="/plugins/servlet/studio/dynamiccss/studio-colors-css.css">
<link rel="stylesheet" type="text/css" href="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.theme.jira:studio_jira_resources/css/studio-jira-theme-override.css">

<div id="header" style="display:none">
</div>
<div class="studio-header" id="studio-header">

	<meta id="application-base-url" name="application-base-url" content="https://studio.plugins.atlassian.com"/>
<meta id="studio-context-path" name="studio-context-path" content=""/>
<meta id="jira-base-url" name="jira-base-url" content="https://studio.plugins.atlassian.com"/>
<meta id="confluence-base-url" name="confluence-base-url" content="https://studio.plugins.atlassian.com/wiki"/>

<div class="header-first-level">
    <div class="first-level-overlay">
        <div id="studio-logo">
            <a href="https://studio.plugins.atlassian.com/secure/Dashboard.jspa" class="logolink"><img src="https://studio.plugins.atlassian.com/download/resources/com.atlassian.studio.static:studio_images/images/StudioLogo.png" border="0" alt="Atlassian Plugins JIRA Studio"></a>
        </div>

        <div class="top-level-container">

            <div class="nav-dropdowns">
                <div id="studio-project-menu" class="project-menu">
	<ul class="ajs-menu-bar">
    	<li class="normal ajs-menu-item">
                        			<a class="user trigger ajs-menu-title" href="#"><span><span> Confluence Shibboleth Authenticator </span></span></a>

			<div class="ajs-drop-down hidden">
    			<ul class="first">

					                		                                                                                                                <li><a href="/browse/CNET" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10979&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">.NET Authenticator with Single Sign-O...</span></a></li>
					                        <li><a href="/browse/ATTT" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11825&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">@ Time Tracker</span></a></li>
					                        <li><a href="/browse/CONFABAPPLUGIN" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10982&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">ABAP Code-Formatter</span></a></li>
					                        <li><a href="/browse/ABAP" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11605&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">ABAP Syntax Highlighter</span></a></li>
					                        <li><a href="/browse/APRV" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10360&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Ad hoc Workflows</span></a></li>
					                        <li><a href="/browse/ADHOC" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10931&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Adhoc Builder - Deployment Tool</span></a></li>
					                        <li><a href="/browse/AALOG" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11604&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Admin Activity Logger</span></a></li>
					                        <li><a href="/browse/ATD" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11521&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">After the Deadline</span></a></li>
					                        <li><a href="/browse/BAACL" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11551&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Agent ACL</span></a></li>
					                        <li><a href="/browse/AAS" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10930&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Agile Application Stack</span></a></li>
					                        <li><a href="/browse/SPARTEZASCP" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11123&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Agile Scrum Cards Print</span></a></li>
					                        <li><a href="/browse/CAGL" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10951&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Agile Toolkit Plugin</span></a></li>
					                        <li><a href="/browse/JAVT" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11031&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Agile Velocity Tracking plugin</span></a></li>
					                        <li><a href="/browse/ALFRES" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10933&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Alfresco Crowd Integration module</span></a></li>
					                        <li><a href="/browse/ALFCON" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11320&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Alfresco to Confluence Connector</span></a></li>
					                        <li><a href="/browse/ACCF" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11371&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">All Comments Custom Field Type</span></a></li>
					                        <li><a href="/browse/CAE" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10950&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Archive Extractor Plugin</span></a></li>
					                        <li><a href="/browse/STRM" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10570&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Atlassian Activity Stream Plugin</span></a></li>
					                        <li><a href="/browse/ACLI" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=10882&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Atlassian Command Line Interface</span></a></li>
					                        <li><a href="/browse/PLE" style="background-image:url(https://studio.plugins.atlassian.com/secure/projectavatar?pid=11107&amp;avatarId=10011&amp;size=small);"><span class="ds-project-name">Atlassian Connector for Eclipse</span></a></li>
										                                            <li id="ds-more"><a href="https://studio.plugins.atlassian.com/secure/BrowseProjects.jspa?selectedCategory=all" class="more-projects"><span>View All Projects</span></a></li>
					
				</ul>
    		</div>
    	</li>
    </ul>
</div>	


                
	    <div id="studio-user-menu-container">
        <a class="login-link" href="/login.jsp?os_destination=%2Fbrowse%2FSHBL-27">Log In</a>
    </div>
    
            </div> <!-- /nav-dropdowns -->

            <div class="navigation-tabs studio-menu">
                
<ul id="studio-tabs">
			<li class="current"><a href="/browse/SHBL">Issues</a></li>
			<li><a href="https://studio.plugins.atlassian.com/wiki/display/SHBL">Wiki</a></li>
			<li><a href="https://studio.plugins.atlassian.com/source/browse/SHBL">Source</a></li>
			<li><a href="https://studio.plugins.atlassian.com/source/cru/?filter=custom&project=CR-SHBL">Reviews</a></li>
			<li><a href="https://studio.plugins.atlassian.com/builds/browse/SHBL">Builds</a></li>
	</ul>

            </div>

        </div> <!-- /top-level-container -->
    </div>  <!-- /first-level-overlay -->
</div> <!-- /header-first-level -->


    <div id="header-bottom">

        <div class="second-level-nav studio-menu">

                            
                
<ul id="main-nav" class="menu-bar standard-menu-bar">
                        <li class="aui-dd-parent lazy  ">
                    <a class="lnk"
                href="/secure/Dashboard.jspa"
                 id="home_link"                 accessKey="h"                 title="View your current Dashboard"                >Dashboards</a>

                    <span class="drop-wrap">
            <a class="drop aui-dd-link"
                                    id="home_link_drop"
                    rel="home_link"
                    accessKey="d"
                    title="Access more options (Alt+d)"
                                href="#"><span>Access more options (Alt+d)</span></a></span>
                </li>
                        <li class="aui-dd-parent lazy  selected  ">
                    <a class="lnk"
                href="/secure/IssueNavigator.jspa"
                 id="find_link"                 accessKey="f"                 title="View your current filter"                >Issues</a>

                    <span class="drop-wrap">
            <a class="drop aui-dd-link"
                                    id="find_link_drop"
                    rel="find_link"
                    accessKey="i"
                    title="Access more options (Alt+i)"
                                href="#"><span>Access more options (Alt+i)</span></a></span>
                </li>
                        <li class="aui-dd-parent nonlazy  ">
                    <a class="lnk"
                href="/secure/GreenHopper.jspa"
                 id="greenhopper_menu"                                 title="Manage your project with GreenHopper"                >Agile</a>

                                                                                                            <span class="drop-wrap">
                            <a class="drop aui-dd-link"
                                                                    id="greenhopper_menu_drop"
                                    accessKey="g"
                                    rel="greenhopper_menu"
                                    title="Access more options (Alt+g)"
                                                                href="#"><span>Access more options</span></a></span>
                            <div class="aui-list hidden">
                                                
                            <ul id="greenhopper_menu_dropdown" class="aui-list-section aui-first   aui-last  ">
                                                                    <li class="aui-list-item"><a
                                         id="planningboard-mlink"                                         class="aui-list-item-link   "
                                                                                                                        href="/secure/VersionBoard.jspa">Planning Board</a></li>
                                                                    <li class="aui-list-item"><a
                                         id="taskboard-mlink"                                         class="aui-list-item-link   "
                                                                                                                        href="/secure/TaskBoard.jspa">Task Board</a></li>
                                                                    <li class="aui-list-item"><a
                                         id="chartboard-mlink"                                         class="aui-list-item-link   "
                                                                                                                        href="/secure/ChartBoard.jspa">Chart Board</a></li>
                                                                    <li class="aui-list-item"><a
                                         id="releasedboard-mlink"                                         class="aui-list-item-link   "
                                                                                                                        href="/secure/ArchiveChartBoard.jspa">Released Board</a></li>
                                                            </ul>
                                                    </div>
                            </li>
    </ul>

                
            
        </div> <!-- /second-level-nav -->

        <div class="quick-action-search">

            
            <a id="keyshortscuthelp" class="item-link hidden" title="Get more information about JIRA's Keyboard Shortcuts"
               href="/secure/ViewKeyboardShortcuts!default.jspa">Keyboard Shortcuts</a>
                            <a id="browse_link" class="hidden" href="/browse/SHBL">Selected Project</a>
            
            <form id="quick-search" class="dont-default-focus userpref-form" method="get" action="https://studio.plugins.atlassian.com/secure/StudioSearch.jspa">
    <fieldset>
        <legend>Quick Search</legend>
		<input type="hidden" name="suggest-tracking" value="search" />
		<input type="hidden" name="quickSearch" value="true" />
        <input id="studio-quick-search-query" type="text" accessKey="q" autocomplete="off" name="query" size="25"/>
        <input id="quick-search-submit" type="submit" value="Search"/>
    </fieldset>
    <fieldset class="hidden parameters">
        <input type="hidden" id="quickSearchPlaceholder" value="Search">
    </fieldset>
</form>

        </div> <!-- /quick-action-search -->

    </div> <!-- /header-second-level -->

</div>










<fieldset class="hidden parameters">
    <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation.">
    <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation.  Please try to <a href='/login.jsp?os_destination=%2Fbrowse%2FSHBL-27'>log in</a> or <a href='/secure/Signup!default.jspa'>sign up</a> for an account.">
    <input type="hidden" title="ajaxUnauthorisedAlert" value="You are not authorised to perform this operation.  Please log in.">
    <input type="hidden" title="baseURL" value="https://studio.plugins.atlassian.com:443">
    <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted.  This may be a temporary glitch or the server may be down.">
    <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation.">
    <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser">
    <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown">

    <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost.">
    <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog.">
    <input type="hidden" title="keyType" value="Type">
    <input type="hidden" title="keyThen" value="then">
    <input type="hidden" title="dblClickToExpand" value="Double click to expand">
    <input type="hidden" title="actions" value="Actions">
    <input type="hidden" title="removeItem" value="Remove">
    <input type="hidden" title="workflow" value="Workflow">
    <input type="hidden" title="labelNew" value="New Label">
    <input type="hidden" title="enterIssueKey" value="Enter issue key">
    <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all">
    <input type="hidden" title="closelink" value="Close">
    <input type="hidden" title="dotOperations" value="Operations">
    <input type="hidden" title="dotLoading" value="Loading...">
    <input type="hidden" title="frotherSuggestions" value="Suggestions">
    <input type="hidden" title="frotherNomatches" value="No Matches">
    <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version.">
    <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component.">
    <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid.">
</fieldset>




<div class="alertHeader">
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-6032469-24");
pageTracker._trackPageview();
} catch(err) {}</script>

<script type="text/javascript" charset="utf-8">
  (function(){
    t = document.createElement('script');t.async=true;t.type ='text/javascript';
    t.src = ('https:' == document.location.protocol ? 'https://secure.' : 'http://api.') + 'tellthemwhen.com/api/v2/notices/9ffb4ac1f71.js';
    var s=document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(t,s);
  })();
</script>

<!-- <div id="TTWNotify" style="display:none"></div> -->

<div style="text-align: center; border: #C00; background-color: #FF6600; line-height: 2em">studio.plugins.atlassian.com will be decommissioned in early 2013. If you are a project maintainer, please email <a href="mailto:developer-relations@atlassian.com">Atlassian Developer Relations</a> if you require assistance to migrate your project off this server.</div>
</div>




<fieldset class="hidden parameters">
    <input type="hidden" id="viewMoreMsg" value="Click to view {0} more">
    <input type="hidden" id="hideMsg" value="Hide" >
    <input type="hidden" id="error-401" value="Cannot perform this operation. You are not logged in." >
    <input type="hidden" id="issueOpTitleUnvote" value="Remove vote for this issue" >
    <input type="hidden" id="issueOpTitleVote" value="Vote for this issue" >
    <input type="hidden" id="issueOpTitleWatch" value="Start watching this issue" >
    <input type="hidden" id="issueOpTitleUnwatch" value="Stop watching this issue" >
    <input type="hidden" id="issueOpUnvote" value="Remove Vote" >
    <input type="hidden" id="issueOpVote" value="Add Vote" >
    <input type="hidden" id="issueOpWatch" value="Watch Issue" >
    <input type="hidden" id="issueOpUnwatch" value="Stop Watching" >
    <input type="hidden" id="i18nVote" value="Vote" >
    <input type="hidden" id="i18nVoted" value="Voted" >
    <input type="hidden" id="i18nWatch" value="Watch" >
    <input type="hidden" id="i18nWatching" value="Watching" >
</fieldset>

<div id="stalker"  class="stalker">
    <div class="item-header">
    
        












<h1 class="item-name avatar" style="background-image:url(/secure/projectavatar?pid=10580&amp;avatarId=10011&amp;size=large)">
        
            <img id="project-avatar" alt="" class="project-avatar-48" height="48" src="/secure/projectavatar?pid=10580&amp;avatarId=10011&amp;size=large" width="48" />
        
        <span>Confluence Shibboleth Authenticator</span>
</h1>


<ul class="breadcrumbs">
    <li><a id="project-name-val" href="/browse/SHBL">Confluence Shibboleth Authenticator</a></li>
    
    <li><a id="key-val" rel="19754" href="/browse/SHBL-27">SHBL-27</a></li>
</ul>

<h2 id="issue_header_summary" class="item-summary"><a href="/browse/SHBL-27">update last login code broken</a></h2>

    
    </div>
    




    <div class="command-bar">
        <div class="ops-cont">
            <div class="ops-menus">
                
                
                    <ul id="opsbar-login" class="first ops">
                        <li id="ops-login" class="last">
                            <a id="ops-login-lnk" class="button first last" href="/login.jsp?os_destination=%2Fbrowse%2FSHBL-27">Log In</a>
                        </li>
                    </ul>
                
                
                    
                        
                    
                
                    
                        
                    
                
                
                    
                        <ul class="ops" id="view-drop">
                            <li>
                                <div class="aui-dd-parent">
                                    <a href="#" title="View this issue in another format" class="drop lnk aui-dd-link standard icon-views"><span>Views</span></a>
                                        <div class="aui-list hidden">
                                        <ul class="aui-first aui-last aui-list-section">
                                            
                                                <li class="aui-list-item">
                                                    <a class="aui-list-item-link" rel="nofollow" href="/si/jira.issueviews:issue-xml/SHBL-27/SHBL-27.xml">XML</a>
                                                </li>
                                            
                                                <li class="aui-list-item">
                                                    <a class="aui-list-item-link" rel="nofollow" href="/si/jira.issueviews:issue-word/SHBL-27/SHBL-27.doc">Word</a>
                                                </li>
                                            
                                                <li class="aui-list-item">
                                                    <a class="aui-list-item-link" rel="nofollow" href="/si/jira.issueviews:issue-html/SHBL-27/SHBL-27.html">Printable</a>
                                                </li>
                                            
                                        </ul>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    
                
            </div>
        </div>
    </div>          


    <div class="btm"></div>
</div>
<div id="main-content">
    <div class="active-area">
        <div class="column" id="primary">
            <div class="content">
                
                
                
                

                    <div id="details-module" class="module toggle-wrap">
                        <div class="mod-header">
                            <h3 class="toggle-title">Details</h3>
                        </div>
                        <div class="mod-content">
                            <ul id="issuedetails" class="property-list two-cols">
    <li class="item">
        <div class="wrap">
            <strong class="name">Type:</strong>
            <span id="type-val" class="value">
                                                        <img alt="Bug" height="16" src="/images/icons/bug.gif" title="Bug - A problem which impairs or prevents the functions of the product." width="16" />
             Bug
            </span>
        </div>
    </li>
    <li class="item item-right">
        <div class="wrap">
            <strong class="name">Status:</strong>
            <span id="status-val" class="value">
                                                        <img alt="Resolved" height="16" src="/images/icons/status_resolved.gif" title="Resolved - A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed." width="16" />
             Resolved
            </span>
                    </div>
    </li>
            <li class="item">
            <div class="wrap">
                <strong class="name">Priority:</strong>
                <span id="priority-val" class="value">
                                                                <img alt="Major" height="16" src="/images/icons/priority_major.gif" title="Major - Major loss of function." width="16" />
             Major
                </span>
            </div>
        </li>
                                <li class="item item-right">
            <div class="wrap">
                <strong class="name">Resolution:</strong>
                <span id="resolution-val" class="value resolved" >
                                         Fixed
                                </span>
            </div>
        </li>
                <li class="item">
            <div class="wrap">
                <strong class="name">Affects Version/s:</strong>
                <span id="versions-val" class="value">
                                            <span class="shorten" id="versions-field">
                                                            <span title="1.5 Changes by Gary Weaver: * SHBL-21 - applying patch contributed from Michael Gettes because call to hasMembership and only calling addMembership when needed he determined was faster than only calling addMembership fix for SHBL-20 and some other possible config related issues not yet noticed. changed from using static values in config to instance. config instance itself is static and gets reloaded, so we don&#39;t want static member variables in the configuration instance itself, unless I&#39;m missing something. we should consider moving to spring config for v2.0. config is a little out of hand now. * resolving SHBL-18. added null checks for header.fullname and header.email in config and updated config * Per some recent commits, there seems to now be a dependency on a newer version of seraph than may be included in earlier versions of confluence. In fact, upping the confluence version (tried several versions) didn&#39;t seem to include these. I looked at Atlassian&#39;s pom for confluence and it appears that only an earlier version of seraph (not atlassian-seraph) was referenced in earlier builds, and later builds don&#39;t include the version they may/may not use. We may end up needing to make changes to the code to make it work with older versions of Confluence, or we may need to change the dependencies (and maybe change versions?) to have a scope that would include these jars in the plugin rather than expect that Confluence provide them, in which case compatibility could be an ongoing issue. * Implementing patch submitted by Erkki Aalto written by Juha Ojaluoma for SHBL-14. Note that USER-254 possible bug related to this feature. This feature implements a new config option called update.last.login.date (true/false) in config that sets properties for the user in os_propertyentry even if not using osuser schema otherwise according to Erkki. Also updated License text. Changes by Bruc Liong: * resolve SHBL-16, hopefully improve response time slightly for SHBL-15. Also this has made updateLastLogin option to be optional, we&#39;re letting confluence to take care of that now. you will need to use the provided LoginFilter, edit web.xml:  &lt;filter-name&gt;login&lt;/filter-name&gt; &lt;!-- &lt;filter-class&gt;com.atlassian.seraph.filter.LoginFilter&lt;/filter-class&gt;  --&gt; &lt;filter-class&gt;shibauth.confluence.authentication.shibboleth.ShibLoginFilter&lt;/filter-class&gt;  Failure to use this Login Filter in web.xml will produce previous behaviour (i.e. before SHBL-16 fix; updateLastLogin is fully obeyed). * provide option dynamicroles.output.tolowercase to convert all group output to lower case by default. *  change StringUtil.convertToUTF8 to have new String(getBytes(&quot;UTF-8&quot;),&quot;UTF-8&quot;) to see if UTF-8 conversion works, otherwise byte by byte conversion needs to be put in placed. * Revamp of group mapping, ref SHBL-6. Include capabilities of: ** mapping with regex ** inspecting only necessary headers for group mapping ** purging roles with regex ** multiple regex/mappers can be specified per header ">1.5</span>,                                                            <span title="1.5.1 Changes by Gary Weaver:      * SHBL-23 - No mapper capable of processing role message should be logged DEBUG not WARN">1.5.1</span>,                                                            <span title="1.6 Changes by Bruc Liong:      * Solution to SHBL-25. An option is provided to allow remote user to be transformed/mapped based on regex to be used by Confluence userid. Read config properties file for example and detail.       ----Changes by Gary Weaver:     * SHBL-26 - integrating patch from Michael Gettes not to try to update read-only users. Also had to enable debug of HTTP Headers and regexp match so that USC could debug their headers/regexp. Cleaned up logging a bit around those so that all HTTP headers logged at once (which might be more helpful in higher traffic).">1.6</span>                                                    </span>
                                    </span>
            </div>
        </li>
                <li class="item item-right">
            <div class="wrap">
                <strong class="name">Fix Version/s:</strong>
                <span id="fixfor-val" class="value">
                                            <span class="shorten" id="fixVersions-field">
                                                            <a href="/browse/SHBL/fixforversion/14141" title="1.7.4 Changes by Gary Weaver:  SHBL-46: Unwrap HttpServletRequest only if necessary  Changes by Elliot Kendall:  SHBL-27: Attempt to update last login time">1.7.4</a>                                                    </span>
                                    </span>
            </div>
        </li>
                <li class="item">
            <div class="wrap">
                <strong class="name">Component/s:</strong>
                <span id="components-val" class="value">
                                            None
                                    </span>
            </div>
        </li>
                    <li class="item full-width">
            <div class="wrap" id="wrap-labels">
                <strong class="name">Labels:</strong>
                    <div class="labels-wrap value">
            <span class="labels" id="labels-19754-value">None</span>
                </div>
            </div>
        </li>
        </ul>


                            
                                

<div id="customfieldmodule">
    

    
    
    <ul id="tabCellPane1" class="property-list">
        
        
            
                
                
                    <li id="rowForcustomfield_10061" class="item">
                        <div class="wrap">
                            <strong title="Internal Complexity" class="name">Internal Complexity:</strong>
                            <div id="customfield_10061-val" class="value type-select">
                                 Unknown

                            </div>
                        </div>
                    </li>
                
            
        
            
                
                
                    <li id="rowForcustomfield_10060" class="item">
                        <div class="wrap">
                            <strong title="Internal Value" class="name">Internal Value:</strong>
                            <div id="customfield_10060-val" class="value type-select">
                                 Unknown

                            </div>
                        </div>
                    </li>
                
            
        
            
                
                
                    <li id="rowForcustomfield_10082" class="item">
                        <div class="wrap">
                            <strong title="Rank" class="name">Rank:</strong>
                            <div id="customfield_10082-val" class="value type-greenhopper-ranking">
                                
<div id="RankField_customfield_10082view">	<span id="RankValue_customfield_10082view">Issue can not be ranked.</span>&nbsp;
			<span id="RankPage_customfield_10082view" class="gh-rankpage gh-jira-rankpage"></span>
</div>

                            </div>
                        </div>
                    </li>
                
            
        
    </ul>
    
</div>

                            
                        </div>
                    </div>

                    




<div id="descriptionmodule" class="module toggle-wrap">
    <div class="mod-header">
        <h3 class="toggle-title">Description</h3>
    </div>
    <div id="issue-description" class="mod-content">
        <p>The update last login code is broken in two ways...</p>

<p>first - the current code causes it to never be invoked.  I don't understand why the test for username == null so I removed it.</p>

<p>                //username will only be null if called from getUser()<br/>
                //if (username == null &amp;&amp; config.isUpdateLastLogin())<br/>
                if (config.isUpdateLastLogin())<br/>
                    updateLastLogin(user);<br/>
            }</p>

<p>now lastlogin gets called but the lastlogin info is not updated in the database.  I use</p>

<p>select * from os_propertyentry p, os_user u where p.entity_id = u.id and u.username='gettes@mit.edu'</p>

<p>the lastlogin data is not being set.  I don't know enough about confluence internals to fix all this - and<br/>
kinda don't wanna know <img class="emoticon" src="/images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/>  Anyone wanna take a stab at this?</p>

<p>/mrg</p>
    </div>
</div>





                    
                        






                    
                
                
                    <div class='module toggle-wrap' id='linkingmodule'><div id='linkingmodule_heading' class='mod-header'><h3 class='toggle-title'>Issue Links</h3></div><div class='mod-content'>            <table class="aui issue-links links-outward aui-table-rowhover">
        <thead>
            <tr>
                <td colspan="5">
                    This issue <strong>relates to</strong>:
                </td>
            </tr>
        </thead>
        <tbody>
                <tr>
            <td class="issuekey">
                <a href="/browse/SHBL-14" title="The autheticator should update last login date to os_propertyentry"  class="resolution" >SHBL-14</a>
            </td>
            <td class="summary"> The autheticator should update last login date to os_propertyentry </td>
            <td class="priority">
                                                <img src="/images/icons/priority_minor.gif" height="16" width="16" border="0" align="absmiddle" alt="Minor" title="Minor - Minor loss of function, or other problem where easy workaround is present.">
                                </td>
            <td class="status">
                            <img src="/images/icons/status_closed.gif" height="16" width="16" border="0" align="absmiddle" alt="Closed" title="Closed - The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">
                </td>
            <td class="actions">
                            </td>
        </tr>
                </tbody>
    </table>
            </div></div><div class='module toggle-wrap' id='activitymodule'><div id='activitymodule_heading' class='mod-header'><h3 class='toggle-title'>Activity</h3></div><div class='mod-content'>    <div class="tabwrap tabs2">
                    <div class="sortwrap">
                                    <a class="icon icon-sort-down" rel="nofollow" href="/browse/SHBL-27?actionOrder=desc#issue-tabs" title="Ascending order - Click to sort in descending order"><span>Ascending order - Click to sort in descending order</span></a>
                            </div>
                <ul id="issue-tabs" class="tabs horizontal">
                                    <li><a id="all-tabpanel" href="/browse/SHBL-27?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel#issue-tabs"><strong>All</strong></a></li>
                                                <li id="comment-tabpanel" class="active"><strong>Comments</strong></li>
                                                <li><a id="worklog-tabpanel" href="/browse/SHBL-27?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel#issue-tabs"><strong>Work Log</strong></a></li>
                                                <li><a id="changehistory-tabpanel" href="/browse/SHBL-27?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel#issue-tabs"><strong>History</strong></a></li>
                                                <li><a id="activity-stream-issue-tab" href="/browse/SHBL-27?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab#issue-tabs"><strong>Activity</strong></a></li>
                            </ul>
    </div>
    <div class="issuePanelContainer" id="issue_actions_container">
                        <div id="comment-27100" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=27100&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-27100" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_27100_verbose" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_27100_verbose subText'><span class='date user-tz' title='17/Aug/09 11:01 AM'><time datetime='2009-08-17T11:01-0700'>17/Aug/09 11:01 AM</time></span></span>  </div>
        <div class="action-body flooded"><p>Michael,</p>

<p>Are you using the OS_USER or Atlassian User (USERS) schema? Check the latter table, and if that is working, then I'll make this change and release.</p>

<p>Thanks,<br/>
Gary</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_27100_concise" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_27100_concise subText'><span class='date user-tz' title='17/Aug/09 11:01 AM'><time datetime='2009-08-17T11:01-0700'>17/Aug/09 11:01 AM</time></span></span>               Michael,

Are you using the OS_USER or Atlassian User (USERS) schema? Check the latter table, and if that is working, then I'll make this change and release.

Thanks,
Gary         </div>
    </div>
</div>
                     <div id="comment-27101" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=27101&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-27101" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="gettes@mit.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_27101_verbose" href="/secure/ViewProfile.jspa?name=gettes%40mit.edu">Michael Gettes</a>
 added a comment  - <span class='commentdate_27101_verbose subText'><span class='date user-tz' title='17/Aug/09 12:34 PM'><time datetime='2009-08-17T12:34-0700'>17/Aug/09 12:34 PM</time></span></span>  </div>
        <div class="action-body flooded"><p>Last login information is not stored in USERS.  I am using atlassian-user (ldap + hibernate mixed mode).  the only place last login info is stored is in the OS_PROPERTYENTRY table as noted in the SQL above.  USERS contains CREATED only.</p>

<p>/mrg</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="gettes@mit.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_27101_concise" href="/secure/ViewProfile.jspa?name=gettes%40mit.edu">Michael Gettes</a>
 added a comment  - <span class='commentdate_27101_concise subText'><span class='date user-tz' title='17/Aug/09 12:34 PM'><time datetime='2009-08-17T12:34-0700'>17/Aug/09 12:34 PM</time></span></span>               Last login information is not stored in USERS.  I am using atlassian-user (ldap + hibernate mixed mode).  the only place last login info is stored is in the OS_PROPERTYENTRY table as noted in the SQL above.  USERS contains CREATED only.

/mrg         </div>
    </div>
</div>
                     <div id="comment-27106" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=27106&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-27106" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_27106_verbose" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_27106_verbose subText'><span class='date user-tz' title='17/Aug/09 2:30 PM'><time datetime='2009-08-17T14:30-0700'>17/Aug/09 2:30 PM</time></span></span>  </div>
        <div class="action-body flooded"><p>Sorry about that. That's what I get for guessing. Unfortunately I didn't assist with testing around the related functionality (<a href="http://studio.plugins.atlassian.com/browse/SHBL-14">SHBL-14</a>), even though I was involved in integration, release, etc.</p>

<p>If I can help by integrating a patch to fix/releasing, etc. let me know. I wish I had time to look into it more, but I don't at the moment. <img class="emoticon" src="/images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Gary</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_27106_concise" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_27106_concise subText'><span class='date user-tz' title='17/Aug/09 2:30 PM'><time datetime='2009-08-17T14:30-0700'>17/Aug/09 2:30 PM</time></span></span>               Sorry about that. That's what I get for guessing. Unfortunately I didn't assist with testing around the related functionality (<a href="http://studio.plugins.atlassian.com/browse/SHBL-14">SHBL-14</a>), even though I was involved in integration, release, etc.

If I can help by integrating a patch to fix/releasing, etc. let me know. I wish I had time to look into it more, but I don't at the moment. <img class="emoticon" src="/images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/>

Gary         </div>
    </div>
</div>
                     <div id="comment-27107" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=27107&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-27107" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
                                            
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_27107_verbose" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_27107_verbose subText'><span class='date user-tz' title='17/Aug/09 2:36 PM'><time datetime='2009-08-17T14:36-0700'>17/Aug/09 2:36 PM</time></span></span>   - <span class="redText subText" title="Gary S. Weaver - 17/Aug/09 2:37 PM">edited</span> </div>
        <div class="action-body flooded"><p>Michael, you might want to add a comment to the main CSUM wiki page and just ask if anyone can confirm that last login date is working with whatever version of Confluence you are using and include link to this ticket. That might hopefully get more of an audience than this ticket. Since Helsinki U. said it worked in 1.5 and I don't think (but don't know without looking) that it changed since then, you might want to follow up with Erkki Aalto <a href="http://developer.atlassian.com/jira/secure/ViewProfile.jspa?name=aalto">here</a> instead if you want to cut to the chase faster on whether it is really broken in 1.6.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
                                            
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_27107_concise" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_27107_concise subText'><span class='date user-tz' title='17/Aug/09 2:36 PM'><time datetime='2009-08-17T14:36-0700'>17/Aug/09 2:36 PM</time></span></span>   - <span class="redText subText" title="Gary S. Weaver - 17/Aug/09 2:37 PM">edited</span>              Michael, you might want to add a comment to the main CSUM wiki page and just ask if anyone can confirm that last login date is working with whatever version of Confluence you are using and include link to this ticket. That might hopefully get more of an audience than this ticket. Since Helsinki U. said it worked in 1.5 and I don't think (but don't know without looking) that it changed since then, you might want to follow up with Erkki Aalto <a href="http://developer.atlassian.com/jira/secure/ViewProfile.jspa?name=aalto">here</a> instead if you want to cut to the chase faster on whether it is really broken in 1.6.         </div>
    </div>
</div>
                     <div id="comment-27108" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=27108&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-27108" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="gettes@mit.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_27108_verbose" href="/secure/ViewProfile.jspa?name=gettes%40mit.edu">Michael Gettes</a>
 added a comment  - <span class='commentdate_27108_verbose subText'><span class='date user-tz' title='17/Aug/09 3:26 PM'><time datetime='2009-08-17T15:26-0700'>17/Aug/09 3:26 PM</time></span></span>  </div>
        <div class="action-body flooded"><p>I guess I should have mentioned I am on Confluence 3.0.0.1.  I'll do as you suggest.</p>

<p>/mrg</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="gettes@mit.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_27108_concise" href="/secure/ViewProfile.jspa?name=gettes%40mit.edu">Michael Gettes</a>
 added a comment  - <span class='commentdate_27108_concise subText'><span class='date user-tz' title='17/Aug/09 3:26 PM'><time datetime='2009-08-17T15:26-0700'>17/Aug/09 3:26 PM</time></span></span>               I guess I should have mentioned I am on Confluence 3.0.0.1.  I'll do as you suggest.

/mrg         </div>
    </div>
</div>
                     <div id="comment-28454" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=28454&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-28454" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="aalto" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_28454_verbose" href="/secure/ViewProfile.jspa?name=aalto">Erkki Aalto</a>
 added a comment  - <span class='commentdate_28454_verbose subText'><span class='date user-tz' title='28/Oct/09 7:13 AM'><time datetime='2009-10-28T07:13-0700'>28/Oct/09 7:13 AM</time></span></span>  </div>
        <div class="action-body flooded"><p>I think I found a third way this is broken. The code (if it worked) would set both last.login.date and previous.login.date to present date. If I understand correctly, it should set last.login.date to present date and previous.login.date to previous last.login.date.</p>

<p>This was possibly wrong in the original code by Jesse Lahtinen.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="aalto" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_28454_concise" href="/secure/ViewProfile.jspa?name=aalto">Erkki Aalto</a>
 added a comment  - <span class='commentdate_28454_concise subText'><span class='date user-tz' title='28/Oct/09 7:13 AM'><time datetime='2009-10-28T07:13-0700'>28/Oct/09 7:13 AM</time></span></span>               I think I found a third way this is broken. The code (if it worked) would set both last.login.date and previous.login.date to present date. If I understand correctly, it should set last.login.date to present date and previous.login.date to previous last.login.date.

This was possibly wrong in the original code by Jesse Lahtinen.         </div>
    </div>
</div>
                     <div id="comment-28457" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=28457&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-28457" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
                                            
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_28457_verbose" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_28457_verbose subText'><span class='date user-tz' title='28/Oct/09 9:11 AM'><time datetime='2009-10-28T09:11-0700'>28/Oct/09 9:11 AM</time></span></span>   - <span class="redText subText" title="Gary S. Weaver - 28/Oct/09 9:15 AM">edited</span> </div>
        <div class="action-body flooded"><p>Erkki,</p>

<p>We welcome any patches or development you'd like to contribute to fix. Unfortunately, it will be a while before I'd have time to look at this. I'd also rather know that the fix would work in your environment.</p>

<p>Thanks,<br/>
Gary</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
                                            
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_28457_concise" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_28457_concise subText'><span class='date user-tz' title='28/Oct/09 9:11 AM'><time datetime='2009-10-28T09:11-0700'>28/Oct/09 9:11 AM</time></span></span>   - <span class="redText subText" title="Gary S. Weaver - 28/Oct/09 9:15 AM">edited</span>              Erkki,

We welcome any patches or development you'd like to contribute to fix. Unfortunately, it will be a while before I'd have time to look at this. I'd also rather know that the fix would work in your environment.

Thanks,
Gary         </div>
    </div>
</div>
                     <div id="comment-28763" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=28763&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-28763" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="aalto" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_28763_verbose" href="/secure/ViewProfile.jspa?name=aalto">Erkki Aalto</a>
 added a comment  - <span class='commentdate_28763_verbose subText'><span class='date user-tz' title='10/Nov/09 3:59 AM'><time datetime='2009-11-10T03:59-0800'>10/Nov/09 3:59 AM</time></span></span>  </div>
        <div class="action-body flooded"><p>I must comment myself because I was partially wrong. When I read the function code more carefully, I see that it should work correctly. However, the old version of the autheticator we are using in our production environment  where the function works it seems to be setting previous.login.date the incorrect way I described:</p>

<p> LOC_aalto@helsinki.fi |     18782 | confluence.user.last.login.date               |        7 | f           |          0 |               |          |        0 |       0 | 2009-11-10 10:23:13.293<br/>
 LOC_aalto@helsinki.fi |     18782 | confluence.user.previous.login.date           |        7 | f           |          0 |               |          |        0 |       0 | 2009-11-10 10:23:13.278</p>

<p>My guess is that the function is called twice.  Unfortunately, my experience from java is next to nothing and those who probably could fix this in a moment are all very busy.</p>

 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="aalto" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_28763_concise" href="/secure/ViewProfile.jspa?name=aalto">Erkki Aalto</a>
 added a comment  - <span class='commentdate_28763_concise subText'><span class='date user-tz' title='10/Nov/09 3:59 AM'><time datetime='2009-11-10T03:59-0800'>10/Nov/09 3:59 AM</time></span></span>               I must comment myself because I was partially wrong. When I read the function code more carefully, I see that it should work correctly. However, the old version of the autheticator we are using in our production environment  where the function works it seems to be setting previous.login.date the incorrect way I described:

 LOC_aalto@helsinki.fi |     18782 | confluence.user.last.login.date               |        7 | f           |          0 |               |          |        0 |       0 | 2009-11-10 10:23:13.293
 LOC_aalto@helsinki.fi |     18782 | confluence.user.previous.login.date           |        7 | f           |          0 |               |          |        0 |       0 | 2009-11-10 10:23:13.278

My guess is that the function is called twice.  Unfortunately, my experience from java is next to nothing and those who probably could fix this in a moment are all very busy.

         </div>
    </div>
</div>
                     <div id="comment-28774" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=28774&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-28774" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
                                            
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_28774_verbose" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_28774_verbose subText'><span class='date user-tz' title='10/Nov/09 8:41 AM'><time datetime='2009-11-10T08:41-0800'>10/Nov/09 8:41 AM</time></span></span>   - <span class="redText subText" title="Gary S. Weaver - 10/Nov/09 8:43 AM">edited</span> </div>
        <div class="action-body flooded"><p>Erkki,</p>

<p>Actually I think you've hit on something else, although I'm not sure.</p>

<p>The code to update the confluence.user.last.login.date and confluence.user.previous.login.date is doing what it is supposed to from what I can tell. The method:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">login(HttpServletRequest request, HttpServletResponse response, <span class="code-object">String</span> username, <span class="code-object">String</span> password, <span class="code-object">boolean</span> cookie) <span class="code-keyword">throws</span> AuthenticatorException{</pre>
</div></div>
<p>calls:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">updateLastLogin(user);</pre>
</div></div>
<p>only once everytime it is called.</p>

<p>Even though it doesn't seem like it should, I'm pretty sure that the login method is called multiple times during the same login.</p>

<p>We set:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">httpSession.setAttribute(ConfluenceAuthenticator.LOGGED_IN_KEY, user);</pre>
</div></div>
<p>and I think part of the intent of doing that was to assume that after we do that, Confluence would know that the user is logged in, and would not call the login method anymore, however it doesn't look like that is happening, and I don't have access to Confluence source to see what it does.</p>

<p>So... we <b>could</b> add something to the part of the authenticator that updated the last login to check for that attribute and to not call updateLastLogin(user) if that attribute is set.</p>

<p>Is that what you'd like us to do? The problem is that I cannot guarantee that this would be the correct solution, although it seems like it should work.</p>

<p>Let me know,<br/>
Gary</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
                                            
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_28774_concise" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_28774_concise subText'><span class='date user-tz' title='10/Nov/09 8:41 AM'><time datetime='2009-11-10T08:41-0800'>10/Nov/09 8:41 AM</time></span></span>   - <span class="redText subText" title="Gary S. Weaver - 10/Nov/09 8:43 AM">edited</span>              Erkki,

Actually I think you've hit on something else, although I'm not sure.

The code to update the confluence.user.last.login.date and confluence.user.previous.login.date is doing what it is supposed to from what I can tell. The method:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">login(HttpServletRequest request, HttpServletResponse response, <span class="code-object">String</span> username, <span class="code-object">String</span> password, <span class="code-object">boolean</span> cookie) <span class="code-keyword">throws</span> AuthenticatorException{</pre>
</div></div>
calls:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">updateLastLogin(user);</pre>
</div></div>
only once everytime it is called.

Even though it doesn't seem like it should, I'm pretty sure that the login method is called multiple times during the same login.

We set:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">httpSession.setAttribute(ConfluenceAuthenticator.LOGGED_IN_KEY, user);</pre>
</div></div>
and I think part of the intent of doing that was to assume that after we do that, Confluence would know that the user is logged in, and would not call the login method anymore, however it doesn't look like that is happening, and I don't have access to Confluence source to see what it does.

So... we <b>could</b> add something to the part of the authenticator that updated the last login to check for that attribute and to not call updateLastLogin(user) if that attribute is set.

Is that what you'd like us to do? The problem is that I cannot guarantee that this would be the correct solution, although it seems like it should work.

Let me know,
Gary         </div>
    </div>
</div>
                     <div id="comment-29134" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=29134&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-29134" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="jgurney" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_29134_verbose" href="/secure/ViewProfile.jspa?name=jgurney">Juhani Gurney</a>
 added a comment  - <span class='commentdate_29134_verbose subText'><span class='date user-tz' title='01/Dec/09 6:55 AM'><time datetime='2009-12-01T06:55-0800'>01/Dec/09 6:55 AM</time></span></span>  </div>
        <div class="action-body flooded"><p>It also seems that if you aren't using the login filter the updateLastLogin won't be called at all since it is commented out from getUserForAtlassianLoginFilter</p>

<p>I'm having a look at these issues now.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="jgurney" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_29134_concise" href="/secure/ViewProfile.jspa?name=jgurney">Juhani Gurney</a>
 added a comment  - <span class='commentdate_29134_concise subText'><span class='date user-tz' title='01/Dec/09 6:55 AM'><time datetime='2009-12-01T06:55-0800'>01/Dec/09 6:55 AM</time></span></span>               It also seems that if you aren't using the login filter the updateLastLogin won't be called at all since it is commented out from getUserForAtlassianLoginFilter

I'm having a look at these issues now.         </div>
    </div>
</div>
                     <div id="comment-35190" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=35190&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-35190" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="amb@mit.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_35190_verbose" href="/secure/ViewProfile.jspa?name=amb%40mit.edu">andrew m. boardman</a>
 added a comment  - <span class='commentdate_35190_verbose subText'><span class='date user-tz' title='10/Sep/10 9:36 AM'><time datetime='2010-09-10T09:36-0700'>10/Sep/10 9:36 AM</time></span></span>  </div>
        <div class="action-body flooded"><p>At least in our setup (Confluence 3.3, shibboleth 2.3.1), 1.6 is actually updating last login times correctly, but 1.7.1 is not.  It's not clear from the context here what the current state of things is, but it seems at least possible that there's a fix in 1.7.1 that's actually doing the wrong thing.  (I've only skimmed the release notes and don't see anything relevant, but have not yet looked at the code.)</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="amb@mit.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_35190_concise" href="/secure/ViewProfile.jspa?name=amb%40mit.edu">andrew m. boardman</a>
 added a comment  - <span class='commentdate_35190_concise subText'><span class='date user-tz' title='10/Sep/10 9:36 AM'><time datetime='2010-09-10T09:36-0700'>10/Sep/10 9:36 AM</time></span></span>               At least in our setup (Confluence 3.3, shibboleth 2.3.1), 1.6 is actually updating last login times correctly, but 1.7.1 is not.  It's not clear from the context here what the current state of things is, but it seems at least possible that there's a fix in 1.7.1 that's actually doing the wrong thing.  (I've only skimmed the release notes and don't see anything relevant, but have not yet looked at the code.)         </div>
    </div>
</div>
                     <div id="comment-35191" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=35191&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-35191" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_35191_verbose" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_35191_verbose subText'><span class='date user-tz' title='10/Sep/10 11:22 AM'><time datetime='2010-09-10T11:22-0700'>10/Sep/10 11:22 AM</time></span></span>  </div>
        <div class="action-body flooded"><p>Andrew,</p>

<p>First off, I'm sorry it is broken for you.</p>

<p>While I've been assisting with this project, a fix will be introduced which breaks others' code, someone will say that is broken and fix it, and then it breaks for the other person. That is fine as long as we have time, but currently we're low on resources to assist. I have time to type this but not to play the middleman between broken environments. In addition, there isn't a lot of code in this plugin, but it is still a mess.</p>

<p>So, I wish I could help, but unfortunately if you need any changes related to these fixes, I hope you understand that we'd need you to make them (not just to submit them), and also work with Erkki/Juhani/Juha/Bruc/etc. to ensure that fix not only works for you but them as well. I can supply email addresses for them if you are interested.</p>

<p>Thanks in advance for your help!</p>

<p>Gary</p>

<p>P.S. - Not that it is relevant to this topic necessarily, but we've had more contributors than listed in the metadata for the plugin, as they were lost during Atlassian's transition a year or so ago to plugins.atlassian.com (where you have to manually enter them these days). They are probably listed in pom.xml as developers, the wiki in release notes, and in svn log comments. There are at least twice as many contributors as currently listed, and it annoys me to no end that people are getting attribution for their work because of that lost data.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_35191_concise" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_35191_concise subText'><span class='date user-tz' title='10/Sep/10 11:22 AM'><time datetime='2010-09-10T11:22-0700'>10/Sep/10 11:22 AM</time></span></span>               Andrew,

First off, I'm sorry it is broken for you.

While I've been assisting with this project, a fix will be introduced which breaks others' code, someone will say that is broken and fix it, and then it breaks for the other person. That is fine as long as we have time, but currently we're low on resources to assist. I have time to type this but not to play the middleman between broken environments. In addition, there isn't a lot of code in this plugin, but it is still a mess.

So, I wish I could help, but unfortunately if you need any changes related to these fixes, I hope you understand that we'd need you to make them (not just to submit them), and also work with Erkki/Juhani/Juha/Bruc/etc. to ensure that fix not only works for you but them as well. I can supply email addresses for them if you are interested.

Thanks in advance for your help!

Gary

P.S. - Not that it is relevant to this topic necessarily, but we've had more contributors than listed in the metadata for the plugin, as they were lost during Atlassian's transition a year or so ago to plugins.atlassian.com (where you have to manually enter them these days). They are probably listed in pom.xml as developers, the wiki in release notes, and in svn log comments. There are at least twice as many contributors as currently listed, and it annoys me to no end that people are getting attribution for their work because of that lost data.         </div>
    </div>
</div>
                     <div id="comment-37525" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=37525&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-37525" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="elliot.kendall@emory.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_37525_verbose" href="/secure/ViewProfile.jspa?name=elliot.kendall%40emory.edu">Elliot Kendall</a>
 added a comment  - <span class='commentdate_37525_verbose subText'><span class='date user-tz' title='30/Nov/10 9:32 AM'><time datetime='2010-11-30T09:32-0800'>30/Nov/10 9:32 AM</time></span></span>  </div>
        <div class="action-body flooded"><p>I've read this discussion and read through the code, and it seems like whatever else might be wrong, uncommenting the call to updateLastLogin in getUserForAtlassianLoginFilter is necessary to fix the issue for people using the Atlassian filter - which is probably just about everyone.</p>

<p>Just uncommenting what's there won't work, though, because it was blindly copied from elsewhere, and there's no username variable in getUserForAtlassianLoginFilter. Removing the username == null check seems to cause the desired behavior, but I'm a little concerned because I don't understand what the check was doing there in the first place.  When would login() be called and make it all the way to that point in the code except when it's appropriate to update last logged in? There's no way for the method to do anything at that point but return true.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="elliot.kendall@emory.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_37525_concise" href="/secure/ViewProfile.jspa?name=elliot.kendall%40emory.edu">Elliot Kendall</a>
 added a comment  - <span class='commentdate_37525_concise subText'><span class='date user-tz' title='30/Nov/10 9:32 AM'><time datetime='2010-11-30T09:32-0800'>30/Nov/10 9:32 AM</time></span></span>               I've read this discussion and read through the code, and it seems like whatever else might be wrong, uncommenting the call to updateLastLogin in getUserForAtlassianLoginFilter is necessary to fix the issue for people using the Atlassian filter - which is probably just about everyone.

Just uncommenting what's there won't work, though, because it was blindly copied from elsewhere, and there's no username variable in getUserForAtlassianLoginFilter. Removing the username == null check seems to cause the desired behavior, but I'm a little concerned because I don't understand what the check was doing there in the first place.  When would login() be called and make it all the way to that point in the code except when it's appropriate to update last logged in? There's no way for the method to do anything at that point but return true.         </div>
    </div>
</div>
                     <div id="comment-37526" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=37526&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-37526" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="gettes@mit.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_37526_verbose" href="/secure/ViewProfile.jspa?name=gettes%40mit.edu">Michael Gettes</a>
 added a comment  - <span class='commentdate_37526_verbose subText'><span class='date user-tz' title='30/Nov/10 9:38 AM'><time datetime='2010-11-30T09:38-0800'>30/Nov/10 9:38 AM</time></span></span>  </div>
        <div class="action-body flooded"><p>Have you tested the updateLastLogin code yourself?  Cuz it's broken.  It does nothing in previous releases.  It is possible it's fixed in the latest release but I don't know if anyone has tested it.  I don't recommend changing the commenting of this code until someone can truly demonstrate updateLastLogin is updating the appropriate fields in the database which shows lastlogin info with other pages in confluence (or other tools used with confluence).</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="gettes@mit.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_37526_concise" href="/secure/ViewProfile.jspa?name=gettes%40mit.edu">Michael Gettes</a>
 added a comment  - <span class='commentdate_37526_concise subText'><span class='date user-tz' title='30/Nov/10 9:38 AM'><time datetime='2010-11-30T09:38-0800'>30/Nov/10 9:38 AM</time></span></span>               Have you tested the updateLastLogin code yourself?  Cuz it's broken.  It does nothing in previous releases.  It is possible it's fixed in the latest release but I don't know if anyone has tested it.  I don't recommend changing the commenting of this code until someone can truly demonstrate updateLastLogin is updating the appropriate fields in the database which shows lastlogin info with other pages in confluence (or other tools used with confluence).         </div>
    </div>
</div>
                     <div id="comment-37527" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=37527&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-37527" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="elliot.kendall@emory.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_37527_verbose" href="/secure/ViewProfile.jspa?name=elliot.kendall%40emory.edu">Elliot Kendall</a>
 added a comment  - <span class='commentdate_37527_verbose subText'><span class='date user-tz' title='30/Nov/10 9:44 AM'><time datetime='2010-11-30T09:44-0800'>30/Nov/10 9:44 AM</time></span></span>  </div>
        <div class="action-body flooded"><p>As I said, uncommenting the call to updateLastLogin in getUserForAtlassianLoginFilter does seem to cause the plugin to do the right thing - last login times get updated.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="elliot.kendall@emory.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_37527_concise" href="/secure/ViewProfile.jspa?name=elliot.kendall%40emory.edu">Elliot Kendall</a>
 added a comment  - <span class='commentdate_37527_concise subText'><span class='date user-tz' title='30/Nov/10 9:44 AM'><time datetime='2010-11-30T09:44-0800'>30/Nov/10 9:44 AM</time></span></span>               As I said, uncommenting the call to updateLastLogin in getUserForAtlassianLoginFilter does seem to cause the plugin to do the right thing - last login times get updated.         </div>
    </div>
</div>
                     <div id="comment-38628" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=38628&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-38628" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
                                            
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_38628_verbose" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_38628_verbose subText'><span class='date user-tz' title='10/Jan/11 12:15 PM'><time datetime='2011-01-10T12:15-0800'>10/Jan/11 12:15 PM</time></span></span>   - <span class="redText subText" title="Gary S. Weaver - 10/Jan/11 12:24 PM">edited</span> </div>
        <div class="action-body flooded"><p>Sorry I just saw this. If I remember correctly, not all versions of Confluence support the last login field. I'd have to dig through email and Jira to see which support it. So, my guess is that this should either be conditional depending on version/support for it (which should probably be done by checking Confluence version, etc. like is done in the CSUM plugin), or we should state what versions of Confluence it works with and drop support for older versions. Unfortunately, I can't help test it at the moment, both due to resource constraints and because I use such an old version of this plugin that it isn't a problem with Confluence 2.5.7. Michael if this is still a problem, let us know and one of us can look into it. Again, I'm really sorry for the delay.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
                                            
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_38628_concise" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_38628_concise subText'><span class='date user-tz' title='10/Jan/11 12:15 PM'><time datetime='2011-01-10T12:15-0800'>10/Jan/11 12:15 PM</time></span></span>   - <span class="redText subText" title="Gary S. Weaver - 10/Jan/11 12:24 PM">edited</span>              Sorry I just saw this. If I remember correctly, not all versions of Confluence support the last login field. I'd have to dig through email and Jira to see which support it. So, my guess is that this should either be conditional depending on version/support for it (which should probably be done by checking Confluence version, etc. like is done in the CSUM plugin), or we should state what versions of Confluence it works with and drop support for older versions. Unfortunately, I can't help test it at the moment, both due to resource constraints and because I use such an old version of this plugin that it isn't a problem with Confluence 2.5.7. Michael if this is still a problem, let us know and one of us can look into it. Again, I'm really sorry for the delay.         </div>
    </div>
</div>
                     <div id="comment-38893" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=38893&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-38893" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="elliot.kendall@emory.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_38893_verbose" href="/secure/ViewProfile.jspa?name=elliot.kendall%40emory.edu">Elliot Kendall</a>
 added a comment  - <span class='commentdate_38893_verbose subText'><span class='date user-tz' title='18/Jan/11 7:07 AM'><time datetime='2011-01-18T07:07-0800'>18/Jan/11 7:07 AM</time></span></span>  </div>
        <div class="action-body flooded"><p>We're already calling updateLastLogin from login(), so shouldn't it already be causing issues for hypothetical incompatible old versions?</p>

<p>I don't personally have any old Confluence versions I can test with, so I can't easily determine whether my suggested fix will break things for them. Given that it does seem to fix the bug when used with modern versions of Confluence, though, I'm still in favor of merging it. If and when we become aware of incompatibilities, we can add a conditional to updateLastLogin.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="elliot.kendall@emory.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_38893_concise" href="/secure/ViewProfile.jspa?name=elliot.kendall%40emory.edu">Elliot Kendall</a>
 added a comment  - <span class='commentdate_38893_concise subText'><span class='date user-tz' title='18/Jan/11 7:07 AM'><time datetime='2011-01-18T07:07-0800'>18/Jan/11 7:07 AM</time></span></span>               We're already calling updateLastLogin from login(), so shouldn't it already be causing issues for hypothetical incompatible old versions?

I don't personally have any old Confluence versions I can test with, so I can't easily determine whether my suggested fix will break things for them. Given that it does seem to fix the bug when used with modern versions of Confluence, though, I'm still in favor of merging it. If and when we become aware of incompatibilities, we can add a conditional to updateLastLogin.         </div>
    </div>
</div>
                     <div id="comment-38895" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=38895&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-38895" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_38895_verbose" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_38895_verbose subText'><span class='date user-tz' title='18/Jan/11 8:13 AM'><time datetime='2011-01-18T08:13-0800'>18/Jan/11 8:13 AM</time></span></span>  </div>
        <div class="action-body flooded"><p>Michael,</p>

<p>Could you provide some debug logging (scrubbed of private data)? See "How to Turn On Debug Logging" in:<br/>
<a href="https://studio.plugins.atlassian.com/wiki/display/SHBL/Confluence+Shibboleth+Authenticator">https://studio.plugins.atlassian.com/wiki/display/SHBL/Confluence+Shibboleth+Authenticator</a></p>

<p>Thanks!<br/>
Gary</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_38895_concise" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_38895_concise subText'><span class='date user-tz' title='18/Jan/11 8:13 AM'><time datetime='2011-01-18T08:13-0800'>18/Jan/11 8:13 AM</time></span></span>               Michael,

Could you provide some debug logging (scrubbed of private data)? See "How to Turn On Debug Logging" in:
<a href="https://studio.plugins.atlassian.com/wiki/display/SHBL/Confluence+Shibboleth+Authenticator">https://studio.plugins.atlassian.com/wiki/display/SHBL/Confluence+Shibboleth+Authenticator</a>

Thanks!
Gary         </div>
    </div>
</div>
                     <div id="comment-38896" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=38896&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-38896" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_38896_verbose" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_38896_verbose subText'><span class='date user-tz' title='18/Jan/11 8:17 AM'><time datetime='2011-01-18T08:17-0800'>18/Jan/11 8:17 AM</time></span></span>  </div>
        <div class="action-body flooded"><p>Elliot,</p>

<p>Sorry, my memory is awful. Odds are it is not problematic, but if you are curious, it might be worth going through the tickets related to last login in SHBL's Jira project, just in case.</p>

<p>Like you said, although it would be awesome if we had various shib'd versions of Confluence that we could test the authenticator against, we just don't have those set up. Luckily, people with various versions of Confluence can provide debug logs to us in tickets and we can look into it.</p>

<p>I'm definitely not against merging new development that helps it work with the latest version of Confluence, and we really appreciate your help.</p>

<p>Thanks!</p>

<p>Gary</p>

<p>Note: I learned something new today from Matt Ryall of Atlassian (noted in <a href="/browse/SUSR-122" title="Space Adms can not edit a Confluence Group on their space"><del>SUSR-122</del></a>) which is that we should be using UserManager and GroupManager to avoid possible permissions issues with UserAccessor. And starting in Confluence 3.5, we need to start using CrowdService (Confluence will be shipping with embedded Crowd). I doubt that has to do with this ticket, but it might be something to keep in-mind.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="gswduke" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_38896_concise" href="/secure/ViewProfile.jspa?name=gswduke">Gary S. Weaver</a>
 added a comment  - <span class='commentdate_38896_concise subText'><span class='date user-tz' title='18/Jan/11 8:17 AM'><time datetime='2011-01-18T08:17-0800'>18/Jan/11 8:17 AM</time></span></span>               Elliot,

Sorry, my memory is awful. Odds are it is not problematic, but if you are curious, it might be worth going through the tickets related to last login in SHBL's Jira project, just in case.

Like you said, although it would be awesome if we had various shib'd versions of Confluence that we could test the authenticator against, we just don't have those set up. Luckily, people with various versions of Confluence can provide debug logs to us in tickets and we can look into it.

I'm definitely not against merging new development that helps it work with the latest version of Confluence, and we really appreciate your help.

Thanks!

Gary

Note: I learned something new today from Matt Ryall of Atlassian (noted in <a href="/browse/SUSR-122" title="Space Adms can not edit a Confluence Group on their space"><del>SUSR-122</del></a>) which is that we should be using UserManager and GroupManager to avoid possible permissions issues with UserAccessor. And starting in Confluence 3.5, we need to start using CrowdService (Confluence will be shipping with embedded Crowd). I doubt that has to do with this ticket, but it might be something to keep in-mind.         </div>
    </div>
</div>
                     <div id="comment-39343" class="issue-data-block activity-comment twixi-block expanded">
    <div class="twixi-wrap verbose actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
        <div class="action-links">
            <a href="/browse/SHBL-27?focusedCommentId=39343&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-39343" title="A permanent link to this comment." class="icon icon-perma"><span>Permalink</span></a>
                                </div>
        <div class="action-details">
    
    
    
                

    <a class="user-hover user-avatar" rel="elliot.kendall@emory.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_39343_verbose" href="/secure/ViewProfile.jspa?name=elliot.kendall%40emory.edu">Elliot Kendall</a>
 added a comment  - <span class='commentdate_39343_verbose subText'><span class='date user-tz' title='31/Jan/11 8:09 AM'><time datetime='2011-01-31T08:09-0800'>31/Jan/11 8:09 AM</time></span></span>  </div>
        <div class="action-body flooded"><p>Fix committed in 1.7.4. If anyone is still having problems using that release, please re-open.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
        <div class="action-details flooded">
            
    
    
    
                

    <a class="user-hover user-avatar" rel="elliot.kendall@emory.edu" style="background-image:url(/secure/useravatar?size=small&amp;avatarId=10182);"  id="commentauthor_39343_concise" href="/secure/ViewProfile.jspa?name=elliot.kendall%40emory.edu">Elliot Kendall</a>
 added a comment  - <span class='commentdate_39343_concise subText'><span class='date user-tz' title='31/Jan/11 8:09 AM'><time datetime='2011-01-31T08:09-0800'>31/Jan/11 8:09 AM</time></span></span>               Fix committed in 1.7.4. If anyone is still having problems using that release, please re-open.         </div>
    </div>
</div>
                 </div>
</div></div>
                

            </div>
        </div>

        <div class="column" id="secondary">
            <div class="content">
                
                    <div class='module toggle-wrap' id='peoplemodule'><div id='peoplemodule_heading' class='mod-header'><h3 class='toggle-title'>People</h3></div><div class='mod-content'><ul class="item-details" id="peopledetails">
    <li class="people-details">
                <dl>
            <dt>Assignee:</dt>
            <dd id="assignee-val">
                        <a class="user-hover" rel="elliot.kendall@emory.edu" id="issue_summary_assignee_elliot.kendall@emory.edu" href="/secure/ViewProfile.jspa?name=elliot.kendall%40emory.edu">Elliot Kendall</a>
            </dd>
        </dl>
                        <dl>
            <dt>Reporter:</dt>
            <dd id="reporter-val">
                        <a class="user-hover" rel="gettes@mit.edu" id="issue_summary_reporter_gettes@mit.edu" href="/secure/ViewProfile.jspa?name=gettes%40mit.edu">Michael Gettes</a>
            </dd>
        </dl>
                    </li>
</ul>
<div id="votes-val">
                <span id="vote-label" title="You cannot vote or change your vote on resolved issues."><span class="icon icon-vote-disabled"></span><span class="action-text">Vote</span></span>
    
                (<span id="vote-data">1</span>)
    </div>
<div id="watchers-val">
            <span id="watch-label" title="You have to be logged in to watch an issue."><span class="icon icon-watch-disabled"></span>Watch</span>
    
        
            (<span id="watcher-data">0</span>)
    </div>
</div></div><div class='module toggle-wrap' id='datesmodule'><div id='datesmodule_heading' class='mod-header'><h3 class='toggle-title'>Dates</h3></div><div class='mod-content'><ul class="item-details">
    <li>
            <dl class="dates">
            <dt>Created:</dt>
            <dd id="create-date" class="date user-tz"  title="17/Aug/09 10:53 AM" >
                        <time datetime="2009-08-17T10:53-0700">17/Aug/09 10:53 AM</time></dd>                     </dd>
        </dl>
            <dl class="dates">
            <dt>Updated:</dt>
            <dd id="updated-date" class="date user-tz"  title="31/Jan/11 8:09 AM" >
                        <time datetime="2011-01-31T08:09-0800">31/Jan/11 8:09 AM</time></dd>                     </dd>
        </dl>
            <dl class="dates">
            <dt>Resolved:</dt>
            <dd id="resolved-date" class="date user-tz"  title="31/Jan/11 8:09 AM" >
                        <time datetime="2011-01-31T08:09-0800">31/Jan/11 8:09 AM</time></dd>                     </dd>
        </dl>
        </li>
</ul>
</div></div>
                

            </div>
        </div>
        
            
                
            
        

    </div>
</div>










<div id="studio-footer" class="footer" style="width:100%; padding:0 0 25px 0;">
    <div id="poweredby">
        <p>
            Powered by <a href="http://www.atlassian.com/hosted/studio">JIRA Studio</a> <span id="studioVersion">107.6 r5978538efb935b5414d28000aa78b98bedfcae46</span> |
            <a href="http://www.atlassian.com/hosted/terms.jsp">Terms of Use</a> |
            <a href="http://studio.atlassian.com/browse/JST">Bug/feature request</a> |
            <a href="https://support.atlassian.com/secure/CreateIssueDetails!init.jspa?summary=Your+summary+here...&amp;issuetype=1&amp;priority=3&amp;description=Please+describe+your+problem+here%3A%0A%0A%0AProblem+reported+from+URL%3A+https%3A%2F%2Fstudio.plugins.atlassian.com%2Fbrowse%2FSHBL-27&amp;customfield_10440=https%3A%2F%2Fstudio.plugins.atlassian.com&amp;pid=10140&amp;">Request Support</a> |
            <a href="http://confluence.atlassian.com/display/JIRASTUDIO" target="help_JIRASTUDIO" rel="nofollow">Help/Documentation</a> |
            <a href="http://blogs.atlassian.com/devtools/studio">JIRA Studio Blog</a> |
            <a href="http://twitter.com/jirastudio">Twitter @JIRAStudio</a>
        </p>
    </div>
</div>

<script type="text/javascript" charset="utf-8" src="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/js/contentnamesearch.js"></script>
<script type="text/javascript" charset="utf-8" src="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/js/split_button.js"></script>
<script type="text/javascript" charset="utf-8" src="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/js/userstatus.js"></script>

            <script type="text/javascript" charset="utf-8" src="/s/en_US-31q2po/650/149/107.6.4/_/download/resources/com.atlassian.studio.static:studio_resources/js/safe-ajax.js"></script>
    
<script type="text/javascript">
    // This is the app specific data that the shared js expects
    studioData = {"jiraUrl" : "https://studio.plugins.atlassian.com"};

            document.cookie = "studio.project.rec.used.cookie=" + escape("SHBL-_-") + "; Max-Age=31536000; path=/;";
    
    // Google analytics
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-6032469-30");
    pageTracker._trackPageview();
    } catch(err) {}
</script>

<form id="jira_request_timing_info" class="dont-default-focus" >
	<fieldset class="parameters hidden">
		<input type="hidden" title="jira.request.start.millis" value="1358699890033" />
		<input type="hidden" title="jira.request.server.time" value="737" />
		<input type="hidden" title="jira.request.id" value="518x7330385x1" />
		<input type="hidden" title="jira.session.expiry.time" value="-" />
		<input type="hidden" title="jira.session.expiry.in.mins" value="-" />
		<input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="1" />
	</fieldset>
</form>
<!--
	                 REQUEST ID : 518x7330385x1
	          REQUEST TIMESTAMP : [20/Jan/2013:08:38:10 -0800]
	               REQUEST TIME : 0.7370
	                 ASESSIONID : 7nnlks
	        CONCURRENT REQUESTS : 1
-->
</body>
</html>
